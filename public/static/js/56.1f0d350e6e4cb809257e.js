webpackJsonp([56],{"1Qyp":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("Xxa5"),s=e.n(l),i=e("woOf"),n=e.n(i),r=e("exGp"),d=e.n(r),o={name:"crud-bpjs-tk-bill-details",data:function(){return{mainKey:1,modalData:{},config:{title:"Rincian Iuran BPJS Tenaga Kerja",model_api:null,getter:"bpjs-tk-bill-details",setter:"bpjs-tk-bill-details",pk_field:"employee_id",permission:{create:"create-bpjs-tk-bill-details",read:"view-bpjs-tk-bill-details",update:"update-bpjs-tk-bill-details",delete:"delete-bpjs-tk-bill-details"},custom_api:{list:"custom/bpjs-tk-bill-details/list",create:"custom/bpjs-tk-bill-details"},slave:[],fields:[{id:"id",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"bpjs_tk_bill_id",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"koperasi_simpan_pinjam_id",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"rel_job_position_id",label:"Jabatan",methods:{list:!0,detail:!1,create:!1,update:!1,filter:!1}},{id:"rel_status_employment_id",label:"Status Ketenagakerjaan",methods:{list:!0,detail:!1,create:!1,update:!1,filter:!1}},{id:"status_code",data:"status_code",label:"Status",placeholder:null,methods:{list:{order:!0,class:{not_calculated_yet:"badge badge-danger",calculated:"badge badge-primary"},transform:"calculated"},detail:{order:!0,class:{not_calculated_yet:"badge badge-danger",calculated:"badge badge-primary"},transform:"calculated"},create:!1,update:{view_data:"status_code",type:"radio",value:"calculated",option:{list_pointer:{label:"label",code:"code",list:[{label:"Sudah dihitung",code:"calculated"},{label:"Belum dihitung",code:"not_calculated_yet"}]}}},filter:{view_data:"status_code",type:"radio",option:{list_pointer:{label:"label",code:"code",list:[{label:"Sudah dihitung",code:"calculated"},{label:"Belum dihitung",code:"not_calculated_yet"}]}}}}},{id:"updated_by",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"created_by",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"created_at",label:"Dibuat",methods:{create:!1,update:!1,filter:!1}},{id:"updated_at",label:"Diperbarui",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"description",label:"Deskripsi",methods:{create:{type:"textarea"},update:{type:"textarea"}}},{id:"upah_value",label:"Upah Tenaga Kerja",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_jkk_value",label:"Iuran JKK",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_jkm_value",label:"Iuran JKM",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_jp_bb_company_value",label:"Iuran Perusahaan",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_jp_bb_employee_value",label:"Iuran Tenaga Kerja",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_jht_company_value",label:"Iuran JHT Perusahaan",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_jht_employee_value",label:"Iuran JHT Tenaga Kerja",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"kekurangan_jp_value",label:"Kekurangan Iuran JP",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_bpjs_company_value",label:"Iuran Beban Perusahaan",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"iuran_bpjs_employee_value",label:"Iuran Beban Tenaga Kerja",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"total_iuran_value",label:"Total",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"employee_id",label:"Nama Tenaga Kerja",methods:{list:{view_data:"rel_employee_id"},create:{setter:"employees",getter:"employees",type:"lookup-radio",option:{list_pointer:{label:"fullname",code:"id",display:["nip","fullname"]}}},update:{setter:"employees",getter:"employees",type:"lookup-radio",option:{list_pointer:{label:"fullname",code:"id",display:["nip","fullname"]}}},filter:{setter:"employees",getter:"employees",type:"lookup-radio",option:{list_pointer:{label:"fullname",code:"id",display:["nip","fullname"]}}}}},{id:"is_beban_company",data:"is_beban_company",label:"Beban Perusahaan",placeholder:null,methods:{list:{order:!0,class:{false:"badge badge-danger",true:"badge badge-primary"},transform:"ynBool"},detail:{order:!0,class:{false:"badge badge-danger",true:"badge badge-primary"},transform:"ynBool"},create:!1,update:!1,filter:{view_data:"is_beban_company",type:"radio",option:{list_pointer:{label:"label",code:"code",list:[{label:"Ya",code:!0},{label:"Tidak",code:!1}]}}}}}]}}},watch:{mainKey:{immediate:!1,deep:!1,handler:function(a){this.$refs["sub-module"].$children[2].getData()}}},methods:{openModal:function(a,t){var e=this;return d()(s.a.mark(function l(){var i;return s.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e.getDetail("custom/bpjs-tk-bill-details/show",{id:t.rowData.id});case 2:l.t0=l.sent,i={detail:l.t0},e.modalData=n()({},i,t.rowData),e.$nextTick().then(function(t){e.$bvModal.show(a)});case 6:case"end":return l.stop()}},l,e)}))()},getDetail:function(a,t){var e=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.$_api.get(a,t).then(function(a){return l&&a.data[l]||a.data}).catch(function(a){e.$_alert.error(a)})},getAge:function(a,t){var e=new Date(t),l=new Date(a),s=e.getFullYear()-l.getFullYear(),i=e.getMonth()-l.getMonth();return(i<0||0===i&&e.getDate()<l.getDate())&&s--,s},submitData:function(a){var t=this;this.$_api.post("custom/bpjs-tk-bill-details/calculate",this.modalData.detail).then(function(a){t.mainKey++,t.$_alert.success(null,"Detail Rincian berhasil diperbarui"),t.$set(t.modalData,"detail",a.data)}).catch(function(a){t.$_alert.error(a)})}}},p={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("tas-base-crud",{ref:"sub-module",attrs:{config:a.config,"hide-update":"","hide-detail":""},scopedSlots:a._u([{key:"list-table-action",fn:function(t){return[e("a",{staticClass:"btn btn-info btn-sm",on:{click:function(e){return a.openModal("modal-rincian-bills",t)}}},[a._v("Detail Rincian ")])]}},{key:"list-header",fn:function(){return[a.modalData?e("b-modal",{attrs:{"header-class":"pb-1",id:"modal-rincian-bills","hide-footer":"",size:"xl"},scopedSlots:a._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"d-flex justify-content-between flex-fill"},[e("div",{staticClass:"d-flex flex-column flex-fill"},[e("div",{staticClass:"text-center mb-5"},[e("h5",{staticClass:"mb-1 font-weight-bold"},[a._v("Detail Rincian Iuran BPJS Tenaga Kerja")]),a._v(" "),e("span",{staticClass:"font-weight-bolder"},[a._v("Periode "+a._s(a._f("parse")(a.modalData.detail.periode_month,"period")))])]),a._v(" "),e("table",{staticClass:"table no-border mb-0"},[e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Tenaga Kerja")]),a._v(" "),e("td",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.modalData.rel_employee_id))]),a._v(" "),e("td",{}),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Tanggal Lahir")]),a._v(" "),e("th",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a._f("parse")(a.modalData.detail.date_of_birth,"longDate"))+" ")])]),a._v(" "),e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Jabatan")]),a._v(" "),e("td",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.modalData.detail.rel_job_position_id))]),a._v(" "),e("td",{}),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Umur")]),a._v(" "),e("th",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.getAge(a.modalData.detail.date_of_birth,a.modalData.detail.periode_month))+" Tahun ")])]),a._v(" "),e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Status Ketenagakerjaan")]),a._v(" "),e("td",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.modalData.detail.rel_status_employment_id))]),a._v(" "),e("td",{}),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Nomor KPJ")]),a._v(" "),e("th",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.modalData.detail.nomor_kpj_bpjs_tk||"-")+" ")])])])])])]},proxy:!0}],null,!1,141283213)},[a._v(" "),e("div",{staticClass:"row"},[a.modalData.detail?e("div",{staticClass:"col-12"},[e("h5",{staticClass:"mb-4"},[a._v("Detail Rincian Iuran BPJS Tenaga Kerja")]),a._v(" "),e("table",{staticClass:"table table-custom-header v-center table-bordered"},[e("tbody",[e("tr",[e("td",{staticClass:"font-weight-bolder bg-light-primary text-uppercase",attrs:{colspan:"4"}},[a._v("Upah Tenaga Kerja")])]),a._v(" "),e("tr",[e("th",[a._v("Nama Komponen")]),a._v(" "),e("th",{staticClass:"nowrap-table"},[a._v("Koefisien")]),a._v(" "),e("th",{staticClass:"text-center"},[a._v("Nilai Dasar")]),a._v(" "),e("th",{staticClass:"text-center"},[a._v("Nilai Komponen")])]),a._v(" "),a._l(a.modalData.detail.child_data_bpjs_tk_bill_detail_upah_components,function(t,l){return e("tr",{key:l+"-komponen-iuran"},[e("td",[a._v(a._s(t.rel_salary_component_id))]),a._v(" "),e("td",{staticClass:"bg-light-primary"},[e("s-input",{attrs:{item:{type:"number",validation:[],label:null,prefix:null,groupClass:"mb-0",ic:"mr-4",api:"",attr:{precision:0}}},model:{value:t.koefisien,callback:function(e){a.$set(t,"koefisien",e)},expression:"k.koefisien"}})],1),a._v(" "),e("td",{staticClass:"bg-light-primary"},[e("s-input",{attrs:{item:{type:"number",validation:[],label:null,prefix:"Rp. ",groupClass:"mb-0",ic:"mr-4",api:"",attr:{precision:2}}},model:{value:t.default_value,callback:function(e){a.$set(t,"default_value",e)},expression:"k.default_value"}})],1),a._v(" "),e("td",[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(t.koefisien*t.default_value||0,"number")))])])])])})],2)]),a._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"py-3 px-5 border-primary",staticStyle:{border:"2px solid","border-radius":"8px"}},[e("ul",{staticClass:"list-unstyled mb-0"},[e("li",{staticClass:"mb-3"},[e("s-input",{attrs:{item:{type:"number",validation:[],label:"Kekurangan Iuran JP",prefix:"Rp. ",groupClass:"mb-0",ic:"mr-4",api:"",attr:{precision:2}}},model:{value:a.modalData.detail.kekurangan_jp_value,callback:function(t){a.$set(a.modalData.detail,"kekurangan_jp_value",t)},expression:"modalData.detail.kekurangan_jp_value"}})],1),a._v(" "),e("li",{staticClass:"mb-3"},[e("label",{staticClass:"checkbox checkbox-md"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.modalData.detail.is_beban_company,expression:"modalData.detail.is_beban_company"}],attrs:{type:"checkbox",name:"bpjs_perusahaan"},domProps:{checked:Array.isArray(a.modalData.detail.is_beban_company)?a._i(a.modalData.detail.is_beban_company,null)>-1:a.modalData.detail.is_beban_company},on:{change:function(t){var e=a.modalData.detail.is_beban_company,l=t.target,s=!!l.checked;if(Array.isArray(e)){var i=a._i(e,null);l.checked?i<0&&a.$set(a.modalData.detail,"is_beban_company",e.concat([null])):i>-1&&a.$set(a.modalData.detail,"is_beban_company",e.slice(0,i).concat(e.slice(i+1)))}else a.$set(a.modalData.detail,"is_beban_company",s)}}}),a._v(" "),e("span",{staticClass:"mr-3"}),a._v("Checklist apabila BPJS ditanggung Perusahaan")])]),a._v(" "),e("li",{staticClass:"mb-0"},[a._v("Iuran BPJS Beban Perusahaan    : Rp. "+a._s(a._f("parse")(a.modalData.detail.iuran_bpjs_company_value,"number")))]),a._v(" "),e("li",[a._v("Iuran BPJS Beban Tenaga Kerja  : Rp. "+a._s(a._f("parse")(a.modalData.detail.iuran_bpjs_employee_value,"number")))])])])]),a._v(" "),e("div",{staticClass:"col-6"},[e("div",{staticClass:"form-group mb-5 mt-0"},[e("label",[a._v("Deskripsi Rincian Iuran BPJS Tenaga Kerja")]),a._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.modalData.detail.description,expression:"modalData.detail.description"}],staticClass:"form-control",attrs:{rows:"6",placeholder:"Deskripsi / note Rincian iuran simpan pinjam"},domProps:{value:a.modalData.detail.description},on:{input:function(t){t.target.composing||a.$set(a.modalData.detail,"description",t.target.value)}}})])])]),a._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-5"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table no-border v-center"},[e("tr",[e("td",{staticClass:"nowrap-table py-1 pl-0"},[a._v("Upah Tenaga Kerja")]),a._v(" "),e("td",{staticClass:"nowrap-table py-1"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.upah_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-1 pl-0"},[a._v("Iuran JKK")]),a._v(" "),e("td",{staticClass:"nowrap-table py-1"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.iuran_jkk_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-1 pl-0"},[a._v("Iuran JKM")]),a._v(" "),e("td",{staticClass:"nowrap-table py-1"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.iuran_jkm_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-1 pl-0"},[a._v("Iuran JP Perusahaan")]),a._v(" "),e("td",{staticClass:"nowrap-table py-1"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.iuran_jp_bb_company_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-1 pl-0"},[a._v("Iuran JP Tenaga Kerja")]),a._v(" "),e("td",{staticClass:"nowrap-table py-1"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.iuran_jp_bb_employee_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-1 pl-0"},[a._v("Iuran JHT Perusahaan")]),a._v(" "),e("td",{staticClass:"nowrap-table py-1"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.iuran_jht_company_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-1 pl-0"},[a._v("Iuran JHT Tenaga Kerja")]),a._v(" "),e("td",{staticClass:"nowrap-table py-1"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.iuran_jht_employee_value||0,"number")))])])])])])])]),a._v(" "),e("div",{staticClass:"col-5 offset-2"},[e("div",{staticClass:"bg-light-primary p-3",staticStyle:{"border-radius":"8px"}},[e("h6",{staticClass:"mb-4"},[a._v("Informasi Premi")]),a._v(" "),e("div",{staticClass:"table-responsive mb-0"},[a.modalData.detail.data_premi?e("table",{staticClass:"table no-border v-center"},[e("tr",[e("td",{staticClass:"nowrap-table py-0 pl-0"},[a._v("Usia Maksimal")]),a._v(" "),e("td",{staticClass:"nowrap-table py-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 text-right"},[a._v(" "+a._s(a._f("parse")(a.modalData.detail.data_premi.max_age||0,"number"))+" Tahun ")])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-0 pl-0"},[a._v("Upah Maksimal (JP)")]),a._v(" "),e("td",{staticClass:"nowrap-table py-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:" py-0"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp.")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.data_premi.upah_max_jp_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-0 pl-0"},[a._v("Persentase JKK")]),a._v(" "),e("td",{staticClass:"nowrap-table py-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 text-right"},[a._v(" "+a._s(a._f("parse")(a.modalData.detail.data_premi.prosen_jkk||0,"number"))+" % ")])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-0 pl-0"},[a._v("Persentase JP Perusahaan")]),a._v(" "),e("td",{staticClass:"nowrap-table py-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 text-right"},[a._v(" "+a._s(a._f("parse")(a.modalData.detail.data_premi.prosen_jp_bb_company||0,"number"))+" % ")])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-0 pl-0"},[a._v("Persentase JP Tenaga Kerja")]),a._v(" "),e("td",{staticClass:"nowrap-table py-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 text-right"},[a._v(" "+a._s(a._f("parse")(a.modalData.detail.data_premi.prosen_jp_bb_employee||0,"number"))+" % ")])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-0 pl-0"},[a._v("Persentase JHT Perusahaan")]),a._v(" "),e("td",{staticClass:"nowrap-table py-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 text-right"},[a._v(" "+a._s(a._f("parse")(a.modalData.detail.data_premi.prosen_jht_company||0,"number"))+" % ")])]),a._v(" "),e("tr",[e("td",{staticClass:"nowrap-table py-0 pl-0"},[a._v("Persentase JHT Tenaga Kerja")]),a._v(" "),e("td",{staticClass:"nowrap-table py-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 text-right"},[a._v(" "+a._s(a._f("parse")(a.modalData.detail.data_premi.prosen_jht_employee||0,"number"))+" % ")])])]):a._e()])])])])]):a._e()]),a._v(" "),e("div",{staticClass:"mt-5"},[e("button",{staticClass:"btn btn-primary btn-lg btn-block font-size-md",on:{click:function(t){return a.submitData("modal-rincian-bills")}}},[a._v("Perbarui & Simpan")])])]):a._e()]},proxy:!0}])})},staticRenderFns:[]};var _=e("VU/8")(o,p,!1,function(a){e("MKXE")},"data-v-716aee91",null);t.default=_.exports},MKXE:function(a,t){}});
//# sourceMappingURL=56.1f0d350e6e4cb809257e.js.map