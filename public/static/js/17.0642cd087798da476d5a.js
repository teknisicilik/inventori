webpackJsonp([17],{"+fE1":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),n=a.n(i),s=a("Xxa5"),l=a.n(s),r=a("exGp"),o=a.n(r),d=a("Gu7T"),c=a.n(d),u=a("pFYg"),m=a.n(u),p=a("woOf"),v=a.n(p),f={name:"crud-monitoring",data:function(){return{config:{title:"Template Data Input Kualitatif",permission:{create:"create-template-qualitatif-on-divisions",read:"create-template-qualitatif-on-divisions",update:"update-template-qualitatif-on-divisions",delete:"delete-template-qualitatif-on-divisions"}},fullFilter:{},searchFilter:"",usedFilter:{search:"",page:1,limit:10},activeTemplate:{},activeAttachment:{},isLoading:!1,dataList:{total:0,totalPage:1,data:[]},newItem:"",newAgenda:"",uploadPercentage:0,isUploading:!1,showServer:0,maxUploadSize:60,errMessage:!1,tempDate:null,cutOff:{},selectedAgenda:{label:"RKAP Kualitatif",code:null},agendaList:[]}},computed:{isValidFilter:function(){return!(!this.usedFilter.periode_year||!this.usedFilter.division_id)}},watch:{searchFilter:{deep:!1,immediate:!1,handler:function(t){this.usedFilter=v()({},this.usedFilter,{search:t,page:1,limit:10})}},selectedAgenda:{deep:!0,immediate:!1,handler:function(t){var e="object"===(void 0===t?"undefined":m()(t))?t.code:t;this.usedFilter=v()({},this.usedFilter,{agenda_id:e,page:1,limit:10})}},usedFilter:{deep:!0,immediate:!1,handler:function(t){this.getListData(t)}}},methods:{globalFilterChange:function(t){this.fullFilter=v()({},t),this.getAgenda(t,null,!0)},removeMyAction:function(){var t=v()({},this.$route.query);delete t.id,this.$router.replace({query:t})},getAgenda:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=v()({},{division_id:i?t.division_id&&t.division_id.code?t.division_id.code:null:t.division_id,periode_year:i?t.year:t.periode_year,agenda_id:a||null});this.$_api.dataset("m-qualitatif-agendas",n).then(function(t){var i=t.data.map(function(t){return{label:t.name,code:t.id}});e.agendaList=[{label:"RKAP Kualitatif",code:null}].concat(c()(i)),e.selectedAgenda=a?e.agendaList.filter(function(t){return t.code===a})[0]:e.agendaList[0],e.usedFilter=v()({},n,{search:"",page:1,limit:10,id:e.$route.query.id||null}),e.activeTemplate=v()({},{}),e.activeAttachment=v()({},{}),e.getCutOff(e.usedFilter)})},addNewAgenda:function(t){var e=this;this.isLoading=!0;var a={division_id:this.usedFilter.division_id,periode_year:this.usedFilter.periode_year,name:this.newAgenda,active:1};this.$_api.create("m-qualitatif-agendas",a).then(function(t){e.isLoading=!1,e.newAgenda="",e.$root.$emit("bv::hide::popover","add-newAgenda"),e.getAgenda(e.usedFilter,t.data.id)},function(t){e.isLoading=!1,e.$_alert.error(t)})},updateAgenda:function(){var t=this;this.isLoading=!0;var e={division_id:this.usedFilter.division_id,periode_year:this.usedFilter.periode_year,id:this.selectedAgenda.code,name:this.newAgenda};this.$_api.put("m-qualitatif-agendas/update",e).then(function(e){t.$_alert.success("Nama Agenda berhasil diperbarui"),t.$root.$emit("bv::hide::popover","update-newAgenda"),t.getAgenda(t.usedFilter,e.data.id)},function(e){t.isLoading=!1,t.$_alert.error(e)})},deleteAgenda:function(t){var e=this;this.$_alert.confirm("Hapus Agenda ?","Semua panduan yang ada juga akan terhapus, lanjutkan ?").then(function(t){if(t.isConfirmed){e.isLoading=!0;var a={division_id:e.usedFilter.division_id,periode_year:e.usedFilter.periode_year,id:e.selectedAgenda.code};e.$_api.delete("m-qualitatif-agendas",{data:a}).then((i=o()(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.isLoading=!1,e.getAgenda(e.usedFilter);case 2:case"end":return t.stop()}},t,e)})),function(t){return i.apply(this,arguments)}),function(t){e.isLoading=!1,e.$_alert.error(t)})}var i})},getCutOff:function(t){var e=this;this.$_api.get("custom/cut-off-qualitatif-schedules/closing-date",t).then(function(t){e.cutOff=t.data},function(t){e.$_alert.error(t)})},updateCutoff:function(){var t=this,e={agenda_id:this.usedFilter.agenda_id,periode_year:this.usedFilter.periode_year,division_id:this.usedFilter.division_id,closing_date:this.cutOff.closing_date};this.$_api.put("custom/cut-off-qualitatif-schedules/update",e).then(function(e){t.$_alert.success("Cut Off berhasil diperbarui")},function(e){t.$_alert.error(e)})},getListData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isLoading=!0,this.$_api.get("custom/template-qualitatif-on-divisions/list",t).then(function(t){if(e.isLoading=!1,e.dataList=t,a){var i=t.data.filter(function(t){return t.id===e.activeTemplate.id});i.length?e.activeTemplate=v()(i[0]):e.activeTemplate=v()({},{})}else t.data.length?e.showTemplate(t.data[0]):e.activeTemplate=v()({},{})},function(t){e.isLoading=!1,e.$_alert.error(t)})},showTemplate:function(t){this.activeTemplate=v()(t)},showAtachment:function(t){this.activeAttachment.id===t.id?this.activeAttachment=v()({}):this.activeAttachment=v()(t),this.$bvModal.show("modal-custom-preview-doc")},allowManipulateAttachment:function(t){return"open"===t.status_code_data_verification},addNewItems:function(t){var e=this;this.isLoading=!0;var a={agenda_id:this.usedFilter.agenda_id,division_id:this.usedFilter.division_id,periode_year:this.usedFilter.periode_year,template_name:this.newItem,active:1};this.$_api.create("template-qualitatif-on-divisions",a).then(function(t){e.isLoading=!1,e.newItem="",e.$root.$emit("bv::hide::popover","add-newItem"),e.getListData(e.usedFilter)},function(t){e.isLoading=!1,e.$_alert.error(t)})},updateItems:function(t){var e=this;this.$_api.put("template-qualitatif-on-divisions/update",t).then(function(t){e.$_alert.success("Nama item Template berhasil diperbarui")},function(t){e.isLoading=!1,e.$_alert.error(t)})},deleteItems:function(t){var e=this;this.$_alert.confirm("Hapus Item ?","Semua panduan yang ada juga akan terhapus, lanjutkan ?").then(function(a){var i;a.isConfirmed&&e.$_api.delete("template-qualitatif-on-divisions",{data:t}).then((i=o()(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!1,t.next=3,e.getListData(e.usedFilter,!1);case 3:case"end":return t.stop()}},t,e)})),function(t){return i.apply(this,arguments)}),function(t){e.isLoading=!1,e.$_alert.error(t)})})},handleFile:function(t){var e=this;if((t.target.files[0].size/1e6).toFixed(2)<this.maxUploadSize){this.errMessage=!1,this.isUploading=!0;var a=t.target.files[0];this.$_api.fileUpload(a,function(t){e.uploadPercentage=Math.round(100*t.loaded/t.total)}).then(function(a){e.isUploading=!1,e.addNewAttachment(a.data),t.target.value=null}).catch(function(t){e.isUploading=!1,e.$_alert.error(t)})}else this.errMessage=!0,t.target.value=null},addNewAttachment:function(t){var e=this;this.isLoading=!0;var a,i={template_qualitatif_on_division_id:this.activeTemplate.id,file_document:t};this.$_api.create("template-qualitatif-on-division-attachments",i).then((a=o()(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!1,t.next=3,e.getListData(e.usedFilter,!0);case 3:case"end":return t.stop()}},t,e)})),function(t){return a.apply(this,arguments)}),function(t){e.isLoading=!1,e.$_alert.error(t)})},deleteAttachment:function(t){var e=this;this.$_alert.confirm("Hapus Panduan ?","Data yang sudah dihapus tidak dapat dikembalikan, lanjutkan ?").then(function(a){var i;a.isConfirmed&&e.$_api.delete("template-qualitatif-on-division-attachments",{data:t}).then((i=o()(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!1,t.next=3,e.getListData(e.usedFilter,!0);case 3:case"end":return t.stop()}},t,e)})),function(t){return i.apply(this,arguments)}),function(t){e.isLoading=!1,e.$_alert.error(t)})})},lockAttachment:function(t,e){var a=this,i="draft"!==e?'<p class="my-6"> Tindakan ini tidak bisa dibatalkan. Ini akan <b>menghapus secara permanen</b> semua verifikasi yang telah dilakukan pada dokumen ini.</p>\n        <span class="text-dark-75">Silahkan ketik <span class="text-dark-75 font-weight-bolder">"konfirmasi"</span> untuk membuka dokumen ini</span>':'<p class="my-6"> Setelah anda melakukan kunci template, maka <b>template dapat diisi oleh inputer divisi</b> untuk pengumpulan data.</p>\n        <span class="text-dark-75">Silahkan ketik <span class="text-dark-75 font-weight-bolder">"konfirmasi"</span> untuk membuka dokumen ini</span>';this.$swal({title:"draft"===e?"Kunci Template ?":"Buka Kunci Template",html:'\n        <div class="alert alert-custom alert-outline-danger mt-3 p-3" role = "alert">\n            <div class="alert-icon">\n              <span class="svg-icon svg-icon-danger svg-icon-xl">\n                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                      <polygon points="0 0 24 0 24 24 0 24"/>\n                      <path d="M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z" fill="#000000" fill-rule="nonzero" opacity="0.3"/>\n                      <path d="M14.5,12 C15.0522847,12 15.5,12.4477153 15.5,13 L15.5,16 C15.5,16.5522847 15.0522847,17 14.5,17 L9.5,17 C8.94771525,17 8.5,16.5522847 8.5,16 L8.5,13 C8.5,12.4477153 8.94771525,12 9.5,12 L9.5,11.5 C9.5,10.1192881 10.6192881,9 12,9 C13.3807119,9 14.5,10.1192881 14.5,11.5 L14.5,12 Z M12,10 C11.1715729,10 10.5,10.6715729 10.5,11.5 L10.5,12 L13.5,12 L13.5,11.5 C13.5,10.6715729 12.8284271,10 12,10 Z" fill="#000000"/>\n                  </g>\n                </svg>\n              </span>\n            </div>\n            <div class="alert-text">Perhatikan perintah sebelum melanjutkan!</div>\n        </div>'+i,input:"text",icon:"warning",iconColor:"#d42b21",padding:".75rem",width:"37rem",focusConfirm:!1,showCancelButton:!1,confirmButtonText:"draft"===e?"Saya paham konsekuensinya, Kunci template ini":"Saya paham konsekuensinya, Buka Kunci template ini",customClass:{confirmButton:"btn btn-light-danger",actions:"mt-0 mb-5",htmlContainer:"text-left overflow-hidden"},didOpen:function(){a.$swal.disableButtons(),a.$swal.getInput().addEventListener("keyup",function(t){"konfirmasi"===t.target.value?a.$swal.enableButtons():a.$swal.disableButtons()})}}).then(function(i){i.isConfirmed&&a.sendLockAttachment(t,e)})},sendLockAttachment:function(t,e){var a,i=this,s=n()({},this.usedFilter,{id:t.id,status_code:e});this.$_api.post("custom/template-qualitatif-on-divisions/do-lock-unlock",s).then((a=o()(l.a.mark(function t(e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.isLoading=!1,t.next=3,i.getListData(i.usedFilter,!0);case 3:case"end":return t.stop()}},t,i)})),function(t){return a.apply(this,arguments)}),function(t){i.isLoading=!1,i.$_alert.error(t)})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"card card-custom gutter-b"},[a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title mb-0 font-weight-bolder mb-3"},[t._v(t._s(t.config.title))]),t._v(" "),a("global-filter",{attrs:{query:"",inline:""},on:{change:function(e){return t.globalFilterChange(e)}}}),t._v(" "),t.isValidFilter?[a("hr",{staticStyle:{"border-style":"dashed"}}),t._v(" "),a("div",{staticClass:"d-flex align-items-center justify-content-start"},[a("div",{staticClass:"d-flex flex-column align-items-start"},[a("span",{staticClass:"d-block font-weight-bold font-size-lg mb-2",attrs:{for:""}},[t._v("Pilih Agenda :")]),t._v(" "),a("v-select",{staticClass:"vs-style custom min-w-250px",attrs:{clearable:!1,appendToBody:!0,options:t.agendaList,placeholder:"Pilih salah satu Agenda"},model:{value:t.selectedAgenda,callback:function(e){t.selectedAgenda=e},expression:"selectedAgenda"}},[t._t("no-options",function(){return[t._v(t._s(t.$t("error.no_data")))]})],2),t._v(" "),a("div",{staticClass:"mt-1"},[t._m(0),t._v(" "),a("button",{staticClass:"btn btn-sm btn-icon",class:t.selectedAgenda.code?"btn-outline-warning":"btn-mute",attrs:{disabled:!t.selectedAgenda.code,id:"update-newAgenda"},on:{click:function(e){t.newAgenda=t.selectedAgenda.label}}},[a("i",{staticClass:"ri-edit-line ri-2x"})]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-icon",class:t.selectedAgenda.code?"btn-outline-danger":"btn-mute",attrs:{disabled:!t.selectedAgenda.code},on:{click:function(e){return t.deleteAgenda()}}},[a("i",{staticClass:"ri-delete-bin-line ri-2x"})])]),t._v(" "),a("b-popover",{attrs:{target:"add-newAgenda",title:"Tambah Agenda Baru (Stress Test)",triggers:"click blur",placement:"right","custom-class":"popover-xl"}},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.addNewAgenda()}}},[a("s-input",{attrs:{item:{label:"Nama Stress Test",type:"text",validation:[],placeholder:"contoh: Stress Test Triwulan 1",api:""}},model:{value:t.newAgenda,callback:function(e){t.newAgenda=e},expression:"newAgenda"}}),t._v(" "),a("button",{staticClass:"btn btn-primary btn-block"},[t._v("Simpan")])],1)]),t._v(" "),a("b-popover",{attrs:{target:"update-newAgenda",title:"Perbarui Agenda",triggers:"click blur",placement:"right","custom-class":"popover-xl"},on:{hide:function(e){t.newAgenda=null}}},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.updateAgenda()}}},[a("s-input",{attrs:{item:{label:"Nama Stress Test",type:"text",validation:[],placeholder:"contoh: Stress Test Triwulan 1",api:""}},model:{value:t.newAgenda,callback:function(e){t.newAgenda=e},expression:"newAgenda"}}),t._v(" "),a("button",{staticClass:"btn btn-primary btn-block"},[t._v("Perbarui")])],1)])],1),t._v(" "),a("div",{staticClass:"d-flex flex-column align-items-start ml-5"},[a("span",{staticClass:"d-block font-weight-bold font-size-lg mb-2",attrs:{for:""}},[t._v("Batas Pengumpulan :")]),t._v(" "),a("s-input",{attrs:{item:{label:"",attr:[{clearable:!1}],prefix:"",nm:!0,inline:!1,type:"datetime",validation:["required"]}},model:{value:t.cutOff.closing_date,callback:function(e){t.$set(t.cutOff,"closing_date",e)},expression:"cutOff.closing_date"}}),t._v(" "),a("button",{staticClass:"btn btn-primary mt-1 btn-sm btn-block border-0",on:{click:function(e){return t.updateCutoff()}}},[a("i",{staticClass:"ri-save-line ri-2x"}),t._v("Perbarui Cut Off")])],1)])]:t._e()],2)]),t._v(" "),t.isValidFilter?a("div",{staticClass:"position-relative"},[a("b-overlay",{attrs:{show:t.isLoading,"no-wrap":"",rounded:"sm"}}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"card card-custom gutter-b"},[a("div",{staticClass:"card-header border-0 pt-7",staticStyle:{"min-height":"0 !important"}},[a("div",{staticClass:"input-icon flex-fill mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.searchFilter,expression:"searchFilter",modifiers:{lazy:!0,trim:!0}}],staticClass:"form-control seach-form",attrs:{autocomplete:"off",name:"search",type:"text",placeholder:"Cari item Template RKAP Kualitatif"},domProps:{value:t.searchFilter},on:{change:function(e){t.searchFilter=e.target.value.trim()},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"card-toolbar my-0"},[t._m(2),t._v(" "),a("b-popover",{attrs:{target:"add-newItem",title:"Tambah Template RKAP Kualitatif",triggers:"click blur",placement:"right","custom-class":"popover-xl"}},[a("form",{attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.addNewItems()}}},[a("s-input",{attrs:{item:{label:"Nama Template",type:"text",validation:[],placeholder:"contoh: Template Cashflow",api:""}},model:{value:t.newItem,callback:function(e){t.newItem=e},expression:"newItem"}}),t._v(" "),a("button",{staticClass:"btn btn-primary btn-block"},[t._v("Simpan")])],1)])],1)]),t._v(" "),a("div",{staticClass:"card-body pt-0"},[t.$route.query.id?a("div",{staticClass:"alert alert-danger mb-0 mt-2 p-2 d-flex align-items-center",attrs:{role:"alert"}},[a("i",{staticClass:"ri-shield-flash-line text-white pr-2 ri-2x"}),t._v(" "),a("div",[t._m(3),t._v(" "),a("span",{staticClass:"d-block text-white font-weight-bolder pointer pr-2 text-underline",on:{click:function(e){return t.removeMyAction()}}},[t._v("Tampilkan semua")])])]):t._e(),t._v(" "),t.dataList.data.length?[a("table",{staticClass:"table mt-3 mb-0"},[t._l(t.dataList.data,function(e,i){return[a("tr",{key:i+"-template-rkap"},[a("td",{staticClass:"nowrap-table pl-0"},[a("span",{staticClass:"svg-icon",class:t.activeTemplate.id===e.id?"svg-icon-primary":"svg-icon-light"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[a("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("polygon",{attrs:{points:"0 0 24 0 24 24 0 24"}}),t._v(" "),a("path",{attrs:{d:"M12.2928955,6.70710318 C11.9023712,6.31657888 11.9023712,5.68341391 12.2928955,5.29288961 C12.6834198,4.90236532 13.3165848,4.90236532 13.7071091,5.29288961 L19.7071091,11.2928896 C20.085688,11.6714686 20.0989336,12.281055 19.7371564,12.675721 L14.2371564,18.675721 C13.863964,19.08284 13.2313966,19.1103429 12.8242777,18.7371505 C12.4171587,18.3639581 12.3896557,17.7313908 12.7628481,17.3242718 L17.6158645,12.0300721 L12.2928955,6.70710318 Z",fill:"#000000","fill-rule":"nonzero"}}),t._v(" "),a("path",{attrs:{d:"M3.70710678,15.7071068 C3.31658249,16.0976311 2.68341751,16.0976311 2.29289322,15.7071068 C1.90236893,15.3165825 1.90236893,14.6834175 2.29289322,14.2928932 L8.29289322,8.29289322 C8.67147216,7.91431428 9.28105859,7.90106866 9.67572463,8.26284586 L15.6757246,13.7628459 C16.0828436,14.1360383 16.1103465,14.7686056 15.7371541,15.1757246 C15.3639617,15.5828436 14.7313944,15.6103465 14.3242754,15.2371541 L9.03007575,10.3841378 L3.70710678,15.7071068 Z",fill:"#000000","fill-rule":"nonzero",opacity:"0.3",transform:"translate(9.000003, 11.999999) rotate(-270.000000) translate(-9.000003, -11.999999)"}})])])])]),t._v(" "),a("td",{staticClass:"pl-0 pointer",attrs:{colspan:"2"},on:{click:function(a){return t.showTemplate(e)}}},[a("div",{staticClass:"text-line-2 text-hover-primary mb-1 font-size-lg font-weight-bolder",class:t.activeTemplate.id===e.id?"text-primary":"text-dark-75"},[t._v(" "+t._s(e.template_name)+" ")]),t._v(" "),a("span",{staticClass:"d-bloc text-dark-75 font-weight-bold font-size-xs"},[t._v(t._s(e.number_of_template_attachment||0)+" Panduan")])]),t._v(" "),a("td",{staticClass:"nowrap-table v-center text-center"},["open"!==t.activeTemplate.status_code_data_verification?a("i",{staticClass:"ri-lock-line ri-2x"}):t._e()])])]})],2),t._v(" "),a("hr",{staticClass:"mt-0"}),t._v(" "),a("div",{staticClass:"d-flex align-items-center justify-content-between"},[a("span",{staticClass:"text-muted"},[t._v("Total "+t._s(t.dataList.total)+" Item")]),t._v(" "),a("b-pagination",{staticClass:"mb-0",attrs:{"total-rows":t.dataList.totalPage,"per-page":t.usedFilter.limit,"prev-text":"Sebelumnya","next-text":"Selanjutnya","first-number":"","last-number":""},model:{value:t.usedFilter.page,callback:function(e){t.$set(t.usedFilter,"page",e)},expression:"usedFilter.page"}})],1)]:[a("div",{staticClass:"d-flex flex-column flex-fill justify-content-center"},[a("img",{staticClass:"img-fluid px-5 py-3",attrs:{src:"/static/img/default/no-data_form.svg",alt:""}}),t._v(" "),a("div",{staticClass:"alert alert-custom alert-light-primary mt-3",attrs:{role:"alert"}},[a("div",{staticClass:"alert-icon"},[a("span",{staticClass:"svg-icon svg-icon-primary svg-icon-xl"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[a("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("polygon",{attrs:{points:"0 0 24 0 24 24 0 24"}}),t._v(" "),a("path",{attrs:{d:"M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z",fill:"#000000","fill-rule":"nonzero",opacity:"0.3"}}),t._v(" "),a("path",{attrs:{d:"M11,14 L9,14 C8.44771525,14 8,13.5522847 8,13 C8,12.4477153 8.44771525,12 9,12 L11,12 L11,10 C11,9.44771525 11.4477153,9 12,9 C12.5522847,9 13,9.44771525 13,10 L13,12 L15,12 C15.5522847,12 16,12.4477153 16,13 C16,13.5522847 15.5522847,14 15,14 L13,14 L13,16 C13,16.5522847 12.5522847,17 12,17 C11.4477153,17 11,16.5522847 11,16 L11,14 Z",fill:"#000000"}})])])])]),t._v(" "),a("div",{staticClass:"alert-text"},[t._v("Belum ada Template Pengumpulan RKAP "+t._s(t.fullFilter.division_id?t.fullFilter.division_id.label:"")+" Tahun "+t._s(t._f("parse")(t.fullFilter.year||"","year")))])])])]],2)])]),t._v(" "),a("div",{staticClass:"col-lg-8"},[Object.keys(t.activeTemplate).length?[a("div",{staticClass:"card card-custom gutter-b"},[a("div",{staticClass:"card-body"},[t.allowManipulateAttachment(t.activeTemplate)?a("div",{staticClass:"d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.activeTemplate.template_name,expression:"activeTemplate.template_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.activeTemplate.template_name},on:{input:function(e){e.target.composing||t.$set(t.activeTemplate,"template_name",e.target.value)}}}),t._v(" "),a("button",{staticClass:"btn btn-outline-primary ml-3",on:{click:function(e){return t.updateItems(t.activeTemplate)}}},[t._v("Perbarui")])]):a("div",[a("h4",[t._v(t._s(t.activeTemplate.template_name))])]),t._v(" "),a("span",{staticClass:"d-block font-weight-bolder mt-4 mb-1"},[t._v("Daftar Panduan ("+t._s(t.activeTemplate.number_of_template_attachment)+") : ")]),t._v(" "),a("div",{staticClass:"d-flex flex-wrap"},t._l(t.activeTemplate.child_data_template_qualitatif_on_division_attachments,function(e,i){return a("div",{key:i+"-child",staticClass:"border pr-3 pl-2 py-3 mr-3 mb-3",staticStyle:{"border-radius":"8px"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"pr-2",staticStyle:{"objec-fit":"cover",width:"50px"},attrs:{src:"/static/img/file/"+e.file_document.ext+".svg"}}),t._v(" "),a("div",{staticClass:"d-flex flex-column justify-content-between flex-fill font-size-sm font-weight-bold"},[a("div",{staticClass:"d-block max-w-180px min-w-180px text-truncate"},[t._v(t._s(e.file_document.filename))]),t._v(" "),a("div",{staticClass:"d-flex align-items-end mt-1"},[a("span",{staticClass:"pointer pr-3 text-info",on:{click:function(a){return t.showAtachment(e)}}},[t._v("Preview")]),t._v(" "),a("a",{staticClass:"pointer pr-3 text-info",on:{click:function(a){return t.$_sys.forceDownload(e.file_document)}}},[t._v("Download ")]),t._v(" "),t.allowManipulateAttachment(t.activeTemplate)?a("div",{staticClass:"d-flex flex-fill justify-content-end align-items-end"},[a("i",{staticClass:"ri-delete-bin-2-line text-danger pointer",staticStyle:{"line-height":"1.2"},on:{click:function(a){return t.deleteAttachment(e)}}})]):t._e()])])])])}),0),t._v(" "),t.allowManipulateAttachment(t.activeTemplate)?a("div",{staticClass:"d-flex align-items-center"},[a("label",{staticClass:"mb-0"},[a("a",{staticClass:"btn btn-sm btn-primary"},[t._v("Upload Panduan Baru (max "+t._s(t.maxUploadSize)+"Mb)")]),t._v(" "),a("input",{ref:"inputFileKualitatif",attrs:{id:"inputFileKualitatif",type:"file",hidden:""},on:{change:function(e){return t.handleFile(e)}}})]),t._v(" "),a("div",{staticClass:"flex-fill ml-3"},[t.isUploading?a("b-progress",{attrs:{max:100,animated:""}},[a("b-progress-bar",{attrs:{value:t.uploadPercentage,label:t.uploadPercentage+"%"}})],1):t._e(),t._v(" "),t.errMessage?a("span",{staticClass:"text-danger font-weight-bold"},[t._v("Upload dibatalkan! ukuran file melebihi 60Mb")]):t._e()],1)]):a("div",{staticClass:"alert alert-custom alert-light-danger fade show mb-0 px-3 py-0",attrs:{role:"alert"}},[t._m(4),t._v(" "),a("div",{staticClass:"alert-text"},[a("b",[t._v("Daftar Panduan tidak dapat diperbarui !")]),t._v(" Data Input sudah berstatus "),a("b",[t._v(t._s(t._f("parse")(t.activeTemplate.status_code_data_verification,"verify")))])])]),t._v(" "),a("hr",{staticClass:"mb-0"}),t._v(" "),a("div",{staticClass:"d-flex pt-4 align-items-start justify-content-between"},[t.allowManipulateAttachment(t.activeTemplate)?t._e():a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.lockAttachment(t.activeTemplate,"open")}}},[a("i",{staticClass:"ri-lock-unlock-line pr-2"}),t._v(" Buka Template")]),t._v(" "),t.allowManipulateAttachment(t.activeTemplate)?a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.lockAttachment(t.activeTemplate,"draft")}}},[a("i",{staticClass:"ri-lock-line pr-2"}),t._v(" Kunci Template")]):t._e(),t._v(" "),t.allowManipulateAttachment(t.activeTemplate)?a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(e){return t.deleteItems(t.activeTemplate)}}},[a("i",{staticClass:"ri-delete-bin-2-line pr-2"}),t._v(" Hapus Item")]):t._e()])])])]:t._e()],2)])],1):a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("img",{attrs:{src:"/static/img/filler/checklist.svg",alt:"",srcset:""}}),t._v(" "),a("div",{staticClass:"alert alert-custom alert-light-primary fade show mt-5",attrs:{role:"alert"}},[t._m(5),t._v(" "),a("div",{staticClass:"alert-text"},[a("b",[t._v("Pilih Nama Divisi")]),t._v(" terlebih dahulu untuk menampilkan data "+t._s(t.config.title))])])]),t._v(" "),a("b-modal",{attrs:{id:"modal-custom-preview-doc","header-class":"px-4 py-3","hide-footer":"",title:"Preview Dokumen",size:"full"}},[Object.keys(t.activeAttachment).length?[t.showServer<=1?[a("iframe",{key:t.showServer+"-iframe",staticClass:"animated",staticStyle:{width:"100%",height:"700px"},attrs:{src:t.$_sys.iframeLink(t.activeAttachment.file_document.url,t.showServer),frameborder:"0"}})]:[a("embed",{staticClass:"animated",attrs:{src:t.activeAttachment.file_document.url,width:"100%",height:"700px"}})]]:t._e(),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("div",[a("button",{staticClass:"btn",class:0===t.showServer?"btn-primary":"btn-outline-primary",on:{click:function(e){t.showServer=0}}},[t._v("Server 1")]),t._v(" "),a("button",{staticClass:"btn btn-primary",class:1===t.showServer?"btn-primary":"btn-outline-primary",on:{click:function(e){t.showServer=1}}},[t._v("Server 2")]),t._v(" "),a("button",{staticClass:"btn btn-primary",class:2===t.showServer?"btn-primary":"btn-outline-primary",on:{click:function(e){t.showServer=2}}},[t._v("Server 3")])]),t._v(" "),a("div",{staticClass:"flex-fill pl-4"},[a("div",{staticClass:"alert alert-custom alert-light-info fade show mb-0 px-3 py-0",attrs:{role:"alert"}},[a("div",{staticClass:"alert-icon"},[a("i",{staticClass:"flaticon-warning"})]),t._v(" "),a("div",{staticClass:"alert-text"},[t._v(" Gunakan server lain atau "),a("span",{staticClass:"font-weight-bolder"},[t._v("Download")]),t._v(" apabila dokumen tidak dapat di buka ")])])])])],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary btn-sm",attrs:{id:"add-newAgenda"}},[e("i",{staticClass:"ri-add-line ri-2x"}),this._v(" Tambah Agenda Baru")])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"ri-search-line text-primary"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary btn-icon",attrs:{id:"add-newItem"}},[e("i",{staticClass:"ri-add-line"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("Hanya menampilkan template dari "),e("b",[this._v("My Action")]),this._v("!")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert-icon"},[e("i",{staticClass:"flaticon-warning"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert-icon"},[e("i",{staticClass:"flaticon-warning"})])}]};var g=a("VU/8")(f,h,!1,function(t){a("ZrE8")},null,null);e.default=g.exports},ZrE8:function(t,e){}});
//# sourceMappingURL=17.0642cd087798da476d5a.js.map