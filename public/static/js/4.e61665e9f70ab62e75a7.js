webpackJsonp([4],{Oswe:function(t,e,a){
/*! dom-to-image-more 06-12-2021 */
!function(e){"use strict";var a={escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:n,mimeType:function(t){return t=n(t).toLowerCase(),function(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[t]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):(e=t,new Promise(function(t){for(var a=h(e.toDataURL().split(",")[1]),n=a.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=a.charCodeAt(i);t(new Blob([s],{type:"image/png"}))}));var e},resolveUrl:function(t,e){var a=document.implementation.createHTMLDocument(),n=a.createElement("base");a.head.appendChild(n);var s=a.createElement("a");return a.body.appendChild(s),n.href=e,s.href=t,s.href},getAndEncode:function(t){return f.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise(function(e){var a,n,s=f.impl.options.httpTimeout,i=new XMLHttpRequest;function r(t){console.error(t),e("")}i.onreadystatechange=function(){var n;4===i.readyState&&(200===i.status?((n=new FileReader).onloadend=function(){var t=n.result.split(/,/)[1];e(t)},n.readAsDataURL(i.response)):a?e(a):r("cannot fetch resource: "+t+", status: "+i.status))},i.ontimeout=function(){a?e(a):r("timeout of "+s+"ms occured while fetching resource: "+t)},i.responseType="blob",i.timeout=s,f.impl.options.useCredentials&&(i.withCredentials=!0),i.open("GET",t,!0),i.send(),!f.impl.options.imagePlaceholder||(n=f.impl.options.imagePlaceholder.split(/,/))&&n[1]&&(a=n[1])})},uid:function(){var t=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+t++}}(),delay:function(t){return function(e){return new Promise(function(a){setTimeout(function(){a(e)},t)})}},asArray:function(t){for(var e=[],a=t.length,n=0;n<a;n++)e.push(t[n]);return e},escapeXhtml:function(t){return t.replace(/%/g,"%25").replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return"data:,"===t?Promise.resolve():new Promise(function(e,a){var n=new Image;f.impl.options.useCredentials&&(n.crossOrigin="use-credentials"),n.onload=function(){e(n)},n.onerror=a,n.src=t})},width:function(t){var e=s(t,"border-left-width"),a=s(t,"border-right-width");return t.scrollWidth+e+a},height:function(t){var e=s(t,"border-top-width"),a=s(t,"border-bottom-width");return t.scrollHeight+e+a}};function n(t){return(t=/\.([^\.\/]*?)(\?|$)/g.exec(t))?t[1]:""}function s(t,e){return e=m(t).getPropertyValue(e),parseFloat(e.replace("px",""))}var i,r={inlineAll:function(t,e,a){return l(t)?Promise.resolve(t).then(o).then(function(n){var s=Promise.resolve(t);return n.forEach(function(t){s=s.then(function(n){return c(n,t,e,a)})}),s}):Promise.resolve(t)},shouldProcess:l,impl:{readUrls:o,inline:c}};function l(t){return-1!==t.search(i)}function o(t){for(var e,n=[];null!==(e=i.exec(t));)n.push(e[1]);return n.filter(function(t){return!a.isDataUrl(t)})}function c(t,e,n,s){return Promise.resolve(e).then(function(t){return n?a.resolveUrl(t,n):t}).then(s||a.getAndEncode).then(function(t){return a.dataAsUrl(t,a.mimeType(e))}).then(function(n){return t.replace(new RegExp("(url\\(['\"]?)("+a.escape(e)+")(['\"]?\\))","g"),"$1"+n+"$3")})}var d={resolveAll:function(){return u().then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})},impl:{readAll:u}};function u(){return Promise.resolve(a.asArray(document.styleSheets)).then(function(t){var e=[];return t.forEach(function(t){if(Object.getPrototypeOf(t).hasOwnProperty("cssRules"))try{a.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}}),e}).then(function(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return r.shouldProcess(t.style.getPropertyValue("src"))})}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return r.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}var p={inlineAll:function t(e){return e instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?r.inlineAll(e).then(function(a){t.style.setProperty("background",a,e)}).then(function(){return t}):Promise.resolve(t)}(e).then(function(){return e instanceof HTMLImageElement?_(e).inline():Promise.all(a.asArray(e.childNodes).map(function(e){return t(e)}))}):Promise.resolve(e)},impl:{newImage:_}};function _(t){return{inline:function(e){return a.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||a.getAndEncode).then(function(e){return a.dataAsUrl(e,a.mimeType(t.src))}).then(function(e){return new Promise(function(a){t.onload=a,t.onerror=a,t.src=e})})}}}var v={imagePlaceholder:void 0,cacheBust:!(i=/url\(['"]?([^'"]+?)['"]?\)/g),useCredentials:!1,httpTimeout:3e4},f={toSvg:b,toPng:function(t,e){return(e=e||{}).raster=!0,y(t,e).then(function(t){return t.toDataURL()})},toJpeg:function(t,e){return(e=e||{}).raster=!0,y(t,e).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})},toBlob:function(t,e){return(e=e||{}).raster=!0,y(t,e).then(a.canvasToBlob)},toPixelData:function(t,e){return(e=e||{}).raster=!0,y(t,e).then(function(e){return e.getContext("2d").getImageData(0,0,a.width(t),a.height(t)).data})},toCanvas:function(t,e){return y(t,e||{})},impl:{fontFaces:d,images:p,util:a,inliner:r,options:{}}};t.exports=f;const m=e.getComputedStyle||window.getComputedStyle,h=e.atob||window.atob;function b(t,e){return void 0===(n=e=e||{}).imagePlaceholder?f.impl.options.imagePlaceholder=v.imagePlaceholder:f.impl.options.imagePlaceholder=n.imagePlaceholder,void 0===n.cacheBust?f.impl.options.cacheBust=v.cacheBust:f.impl.options.cacheBust=n.cacheBust,void 0===n.useCredentials?f.impl.options.useCredentials=v.useCredentials:f.impl.options.useCredentials=n.useCredentials,Promise.resolve(t).then(function(t){return function t(e,n,s,i){return s||!n||n(e)?Promise.resolve(e).then(function(t){return t instanceof HTMLCanvasElement?a.makeImage(t.toDataURL()):"IFRAME"===t.nodeName?html2canvas(t.contentDocument.body).then(t=>t.toDataURL()).then(a.makeImage):t.cloneNode(!1)}).then(function(s){return function(e,s){return 0===(e=e.childNodes).length?Promise.resolve(s):function(e,a){var s=Promise.resolve();return a.forEach(function(a){s=s.then(function(){return t(a,n,!1,i)}).then(function(t){t&&e.appendChild(t)})}),s}(s,a.asArray(e)).then(function(){return s})}(e,s)}).then(function(t){return function(t,e,n){return e instanceof Element?Promise.resolve().then(function(){!function(t,e){t.cssText?(e.cssText=t.cssText,function(t,e){e.font=t.font,e.fontFamily=t.fontFamily,e.fontFeatureSettings=t.fontFeatureSettings,e.fontKerning=t.fontKerning,e.fontSize=t.fontSize,e.fontStretch=t.fontStretch,e.fontStyle=t.fontStyle,e.fontVariant=t.fontVariant,e.fontVariantCaps=t.fontVariantCaps,e.fontVariantEastAsian=t.fontVariantEastAsian,e.fontVariantLigatures=t.fontVariantLigatures,e.fontVariantNumeric=t.fontVariantNumeric,e.fontVariationSettings=t.fontVariationSettings,e.fontWeight=t.fontWeight}(t,e)):function(t,n){a.asArray(t).forEach(function(e){n.setProperty(e,t.getPropertyValue(e),t.getPropertyPriority(e))}),s&&(["inset-block","inset-block-start","inset-block-end"].forEach(t=>e.removeProperty(t)),["left","right","top","bottom"].forEach(t=>{e.getPropertyValue(t)&&e.setProperty(t,"0px")}))}(t,e)}(n?function(t,e){var a,n=document.createElement(t.tagName).style,s=m(t),i=t.style;for(a of s){var r=s.getPropertyValue(a),l=i.getPropertyValue(a);i.setProperty(a,e?"initial":"unset"),s.getPropertyValue(a)!==r?n.setProperty(a,r):n.removeProperty(a),i.setProperty(a,l)}return n}(t,s):m(t),e.style)}).then(function(){[":before",":after"].forEach(function(n){!function(n){var s,i=m(t,n),r=i.getPropertyValue("content");""!==r&&"none"!==r&&(s=a.uid(),(r=e.getAttribute("class"))&&e.setAttribute("class",r+" "+s),(r=document.createElement("style")).appendChild(function(){var t="."+s+":"+n,e=(i.cssText?function(){return i.cssText+" content: "+i.getPropertyValue("content")+";"}:function(){return a.asArray(i).map(function(t){return t+": "+i.getPropertyValue(t)+(i.getPropertyPriority(t)?" !important":"")}).join("; ")+";"})();return document.createTextNode(t+"{"+e+"}")}()),e.appendChild(r))}(n)})}).then(function(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}).then(function(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach(function(t){var a=e.getAttribute(t);a&&e.style.setProperty(t,a)}))}).then(function(){return e}):e}(e,t,i)}):Promise.resolve()}(t,e.filter,!0,!e.raster)}).then(g).then(C).then(function(t){e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach(function(a){t.style[a]=e.style[a]});var a=null;return"function"==typeof e.onclone&&(a=e.onclone(t)),Promise.resolve(a).then(function(){return t})}).then(function(n){return n=n,s=e.width||a.width(t),i=e.height||a.height(t),Promise.resolve(n).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(a.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+s+'" height="'+i+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t});var s,i});var n}function y(t,e){return b(t,e).then(a.makeImage).then(a.delay(0)).then(function(n){var s="number"!=typeof e.scale?1:e.scale,i=function(t,n){var s=document.createElement("canvas");return s.width=(e.width||a.width(t))*n,s.height=(e.height||a.height(t))*n,e.bgcolor&&((n=s.getContext("2d")).fillStyle=e.bgcolor,n.fillRect(0,0,s.width,s.height)),s}(t,s),r=i.getContext("2d");return r.mozImageSmoothingEnabled=!1,r.msImageSmoothingEnabled=!1,r.imageSmoothingEnabled=!1,n&&(r.scale(s,s),r.drawImage(n,0,0)),i})}function g(t){return d.resolveAll().then(function(e){var a=document.createElement("style");return t.appendChild(a),a.appendChild(document.createTextNode(e)),t})}function C(t){return p.inlineAll(t).then(function(){return t})}}(this)},ZKjr:function(t,e){},xIhk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("woOf"),s=a.n(n),i=a("Xxa5"),r=a.n(i),l=a("exGp"),o=a.n(l),c=a("PJh5"),d=a.n(c);d.a.locale("id");var u={name:"control-sheet-payroll",data:function(){return{activeTab:"sheet",selectedPeriod:null,isMainLoading:!1,isLoadingSlip:!1,config:{permission:{create:"create-control-sheet-payroll",read:"view-control-sheet-payroll",update:"update-control-sheet-payroll",delete:"delete-control-sheet-payroll"}},mainData:{sheet:[],jurnal:[],fina:null,checklist:null},modalData:null,printConfig:{id:"printSlip",preview:!1,standard:"strict"},fullwidthColumns:[],verifyList:null}},watch:{activeTab:{deep:!1,immediate:!1,handler:function(t){var e=this;return o()(r.a.mark(function a(){var n,s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=null,s=null,"sheet"===t?(n="custom/control-sheet-payroll/list",s={periode_month:e.selectedPeriod,sort_by:"fullname",sort:"ASC"}):"jurnal"===t?(n="custom/control-sheet-jurnal/list",s={periode_month:e.selectedPeriod}):(n="custom/payroll-journals/list",s={periode_month:e.selectedPeriod}),!e.selectedPeriod){a.next=13;break}return e.isMainLoading=!0,a.t0=e,a.t1=e.mainData,a.t2=t,a.next=10,e.sendAPI("get",n,s,"fina"!==t);case 10:a.t3=a.sent,a.t0.$set.call(a.t0,a.t1,a.t2,a.t3),e.isMainLoading=!1;case 13:case"end":return a.stop()}},a,e)}))()}},selectedPeriod:{deep:!1,immediate:!0,handler:function(t){var e=this;return o()(r.a.mark(function a(){var n,s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=null,s=null,"sheet"===e.activeTab?(n="custom/control-sheet-payroll/list",s={periode_month:t,sort_by:"fullname",sort:"ASC"}):"jurnal"===e.activeTab?(n="custom/control-sheet-jurnal/list",s={periode_month:t}):(n="custom/payroll-journals/list",s={periode_month:e.selectedPeriod}),!t){a.next=21;break}return e.$store.commit("set",["lastSelectedPeriodPayroll",t,!0]),e.isMainLoading=!0,a.t0=e,a.t1=e.mainData,a.next=10,e.sendAPI("get","custom/payroll-periode-calculation/checklist",{periode_month:t},!1);case 10:return a.t2=a.sent,a.t0.$set.call(a.t0,a.t1,"checklist",a.t2),a.t3=e,a.t4=e.mainData,a.t5=e.activeTab,a.next=17,e.sendAPI("get",n,s,"fina"!==e.activeTab);case 17:a.t6=a.sent,a.t3.$set.call(a.t3,a.t4,a.t5,a.t6),e.getVerifyList(t),e.isMainLoading=!1;case 21:case"end":return a.stop()}},a,e)}))()}}},computed:{labelPrint:function(){return"sheet"===this.activeTab?"Control Sheet (Perorangan)":"jurnal"===this.activeTab?"Control Sheet (Jabatan)":"Faktur Keuangan"},labelPeriod:function(){return d()(this.selectedPeriod).format("MMMM YYYY")}},beforeMount:function(){this.setThisMonth()},mounted:function(){this.$_sys.togleClass("kt_body","aside-minimize",!0),this.$store.commit("set",["sideNavSecondary",!1])},methods:{setFullWidth:function(t){this.fullwidthColumns.includes(t)?this.fullwidthColumns=this.fullwidthColumns.filter(function(e){return e!==t}):this.fullwidthColumns.push(t)},sendAPI:function(t,e,a){var n=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.$_api[t](e,a).then(function(t){return s?t.data:t}).catch(function(t){n.$_alert.error(t)})},setThisMonth:function(){var t=this;return o()(r.a.mark(function e(){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.$store.state.lastSelectedPeriodPayroll){e.next=8;break}return e.next=4,t.sendAPI("list","payroll-periodes",{periode_month:d()(new Date).set({date:1}).format("YYYY-MM-DD")});case 4:(n=e.sent).length&&(t.selectedPeriod=n[0].periode_month,t.$store.commit("set",["lastSelectedPeriodPayroll",n[0].periode_month,!1])),e.next=9;break;case 8:t.selectedPeriod=a;case 9:case"end":return e.stop()}},e,t)}))()},getVerifyList:function(t){var e=this;return o()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.sendAPI("get","custom/control-sheet-payroll/summary-verifications",{periode_month:t,sort_by:"verification_order",sort:"ASC"},!1);case 2:e.verifyList=a.sent;case 3:case"end":return a.stop()}},a,e)}))()},isAllowedVerify:function(t){var e=JSON.parse(localStorage.getItem("profile"));return-1===e.role_id||e.role_id===t.privillege_role_id},generateText:function(t){var e="Telah diverifikasi oleh, "+t.rel_verified_by+" - "+t.rel_job_position_id;return e+="\nSebagai "+t.rel_privillege_role_id,e+="\npada "+d()(t.verified_by).format("LLLL"),e+="\n\nvia "+window.location.origin},getPayrollDetail:function(t,e){var a=this;return o()(r.a.mark(function n(){var i,l;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.sendAPI("get","custom/payroll-periode-calculation/salary-component-on-periodes-list-tree",{id:e.id},!1);case 2:i=n.sent,l={listTree:i.data.data_salary_detail,presence:i.data.data_employee_presence_recaps,employee:i.data.data_employee},a.modalData=s()({},l,e),a.$nextTick().then(function(e){a.$bvModal.show(t)});case 6:case"end":return n.stop()}},n,a)}))()},downloadSlip:function(t){var e=this;return o()(r.a.mark(function n(){var s,i;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.isLoadingSlip=!0,s=a("Oswe"),i=document.getElementById("printSlip"),n.next=5,s.toPng(i).then(function(e){var a=document.createElement("a");a.href=e;var n="Slip Gaji Periode "+d()(t).format("MMMM YYYY");a.setAttribute("download",n+".png"),document.body.appendChild(a),a.click()});case 5:e.isLoadingSlip=!1;case 6:case"end":return n.stop()}},n,e)}))()},calculateAllEmployee:function(){var t=this;return o()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isMainLoading=!0,e.next=3,t.sendAPI("post","custom/payroll-periode-calculation/salary-calculation-all",{periode_month:t.selectedPeriod},!1);case 3:(a=e.sent)&&a.check&&(t.countFinaJournal(),t.reloadTable(),t.$_alert.success("Berhasil menghitung semua Gaji Tenaga Kerja")),t.isMainLoading=!1;case 6:case"end":return e.stop()}},e,t)}))()},recountDetail:function(){var t=this;return o()(r.a.mark(function e(){var a,n,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoadingSlip=!0,a={id:t.modalData.id,periode_month:t.selectedPeriod},e.next=4,t.sendAPI("post","custom/payroll-periode-calculation/salary-calculation-single",a,!1);case 4:if(!(n=e.sent)||!n.check){e.next=13;break}return e.next=8,t.sendAPI("get","custom/payroll-periode-calculation/salary-component-on-periodes-list-tree",{id:t.modalData.id},!1);case 8:i=e.sent,l={listTree:i.data.data_salary_detail,presence:i.data.data_employee_presence_recaps,employee:i.data.data_employee},t.modalData=s()(t.modalData,l),t.countFinaJournal(),t.reloadTable();case 13:t.isLoadingSlip=!1;case 14:case"end":return e.stop()}},e,t)}))()},countFinaJournal:function(){var t=this;return o()(r.a.mark(function e(){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={periode_month:t.selectedPeriod},e.next=3,t.sendAPI("post","custom/payroll-journals/do-calculation",a,!1);case 3:(n=e.sent)&&n.check||t.$_alert.error("Journals Payroll calculation Error!");case 5:case"end":return e.stop()}},e,t)}))()},reloadTable:function(){var t=this;return o()(r.a.mark(function e(){var a,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,n=null,"sheet"===t.activeTab?(a="custom/control-sheet-payroll/list",n={periode_month:t.selectedPeriod,sort_by:"fullname",sort:"ASC"}):"jurnal"===t.activeTab?(a="custom/control-sheet-jurnal/list",n={periode_month:t.selectedPeriod}):(a="custom/payroll-journals/list",n={periode_month:t.selectedPeriod}),t.isMainLoading=!0,t.getVerifyList(t.selectedPeriod),e.t0=t,e.t1=t.mainData,e.t2=t.activeTab,e.next=10,t.sendAPI("get",a,n,"fina"!==t.activeTab);case 10:e.t3=e.sent,e.t0.$set.call(e.t0,e.t1,e.t2,e.t3),t.isMainLoading=!1;case 13:case"end":return e.stop()}},e,t)}))()},lockDocument:function(t){var e=this,a={periode_month:this.selectedPeriod};!1===t.is_lock?this.$swal({title:"Konfirmasi Kunci Perhitungan",html:'\n          <div class="alert alert-custom alert-outline-danger mt-3 p-3" role = "alert">\n              <div class="alert-icon">\n                <span class="svg-icon svg-icon-danger svg-icon-xl">\n                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                          <rect x="0" y="0" width="24" height="24"/>\n                          <path d="M11.1669899,4.49941818 L2.82535718,19.5143571 C2.557144,19.9971408 2.7310878,20.6059441 3.21387153,20.8741573 C3.36242953,20.9566895 3.52957021,21 3.69951446,21 L21.2169432,21 C21.7692279,21 22.2169432,20.5522847 22.2169432,20 C22.2169432,19.8159952 22.1661743,19.6355579 22.070225,19.47855 L12.894429,4.4636111 C12.6064401,3.99235656 11.9909517,3.84379039 11.5196972,4.13177928 C11.3723594,4.22181902 11.2508468,4.34847583 11.1669899,4.49941818 Z" fill="#000000" opacity="0.3"/>\n                          <rect fill="#000000" x="11" y="9" width="2" height="7" rx="1"/>\n                          <rect fill="#000000" x="11" y="17" width="2" height="2" rx="1"/>\n                      </g>\n                  </svg>\n                </span>\n              </div>\n              <div class="alert-text font-size-sm">Hal yang tidak terduga akan terjadi jika Anda tidak membaca ini!</div>\n          </div>\n          <p class="my-6"> Tindakan ini tidak bisa dibatalkan. Perhitungan Gaji <b>tidak dapat diperbarui</b> saat perhitungan dikunci</p>\n          <span class="text-dark-75">Silahkan ketik <span class="text-dark-75 font-weight-bolder">"konfirmasi"</span> untuk mengunci perhitungan</span>\n          ',input:"text",icon:"warning",iconColor:"#d42b21",padding:".75rem",width:"37rem",focusConfirm:!1,showCancelButton:!1,confirmButtonText:"Saya paham konsekuensinya, lanjutkan Kunci Perhitungan",customClass:{confirmButton:"btn btn-light-danger",actions:"mt-0 mb-5",htmlContainer:"text-left overflow-hidden"},didOpen:function(){e.$swal.disableButtons(),e.$swal.getInput().addEventListener("keyup",function(t){"konfirmasi"===t.target.value?e.$swal.enableButtons():e.$swal.disableButtons()})}}).then(function(t){t.isConfirmed&&e.$_api.post("custom/control-sheet-payroll/submit-lock",a).then(function(t){e.$_alert.success("Berhasil mengunci Perhitungan"),e.getVerifyList(e.selectedPeriod)})}):this.$swal({title:"Buka Kunci Perhitungan?",html:'\n          <div class="alert alert-custom alert-outline-danger mt-3 p-3" role = "alert">\n              <div class="alert-icon">\n                <span class="svg-icon svg-icon-danger svg-icon-xl">\n                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">\n                      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                          <rect x="0" y="0" width="24" height="24"/>\n                          <path d="M11.1669899,4.49941818 L2.82535718,19.5143571 C2.557144,19.9971408 2.7310878,20.6059441 3.21387153,20.8741573 C3.36242953,20.9566895 3.52957021,21 3.69951446,21 L21.2169432,21 C21.7692279,21 22.2169432,20.5522847 22.2169432,20 C22.2169432,19.8159952 22.1661743,19.6355579 22.070225,19.47855 L12.894429,4.4636111 C12.6064401,3.99235656 11.9909517,3.84379039 11.5196972,4.13177928 C11.3723594,4.22181902 11.2508468,4.34847583 11.1669899,4.49941818 Z" fill="#000000" opacity="0.3"/>\n                          <rect fill="#000000" x="11" y="9" width="2" height="7" rx="1"/>\n                          <rect fill="#000000" x="11" y="17" width="2" height="2" rx="1"/>\n                      </g>\n                  </svg>\n                </span>\n              </div>\n              <div class="alert-text font-size-sm">Hal yang tidak terduga akan terjadi jika Anda tidak membaca ini!</div>\n          </div>\n          <p class="my-6"> Tindakan ini tidak bisa dibatalkan. Ini akan <b>menghapus secara permanen</b> semua verifikasi yang telah dilakukan pada dokumen ini.</p>\n          <span class="text-dark-75">Silahkan ketik <span class="text-dark-75 font-weight-bolder">"konfirmasi"</span> untuk membuka dokumen ini</span>\n          ',input:"text",icon:"warning",iconColor:"#d42b21",padding:".75rem",width:"37rem",focusConfirm:!1,showCancelButton:!1,confirmButtonText:"Saya paham konsekuensinya, Buka dokumen ini",customClass:{confirmButton:"btn btn-light-danger",actions:"mt-0 mb-5",htmlContainer:"text-left overflow-hidden"},didOpen:function(){e.$swal.disableButtons(),e.$swal.getInput().addEventListener("keyup",function(t){"konfirmasi"===t.target.value?e.$swal.enableButtons():e.$swal.disableButtons()})}}).then(function(t){t.isConfirmed&&e.$_api.post("custom/control-sheet-payroll/submit-unlock",a).then(function(t){e.$_alert.success("Berhasil membuka kunci perhitungan"),e.getVerifyList(e.selectedPeriod)})})},approveSheet:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments[1];this.$swal({title:e?"Approve Control Sheet ?":"Permintaan Revisi",html:'<span class="text-dark-75">Keterangan&nbsp;:</span>',input:"textarea",icon:e?"success":"warning",iconColor:e?"#3AAC12":"#d42b21",padding:".75rem",width:"37rem",focusConfirm:!1,showCancelButton:!1,confirmButtonText:e?"Approve Control Sheet":"Kirim Permintaan Revisi",customClass:{confirmButton:e?"btn btn-success":"btn btn-light-danger",actions:"mt-0 mb-5",htmlContainer:"text-left overflow-hidden"},didOpen:function(){t.$swal.disableButtons(),t.$swal.getInput().addEventListener("keyup",function(e){e.target.value?t.$swal.enableButtons():t.$swal.disableButtons()})}}).then(function(n){if(n.isConfirmed){var s={id:a.id,payroll_periode_id:a.payroll_periode_id,privillege_role_id:a.privillege_role_id,verification_order:a.verification_order,status_code:e?"approved":"revision_request",description:t.$swal.getInput().value};t.$_api.post("custom/control-sheet-payroll/do-verifications",s).then(function(a){t.$_alert.success(e?"Berhasil memverifikasi data":"Berhasil mengirim permintaan Revisi"),t.getVerifyList(t.selectedPeriod)})}})}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card card-custom mb-0"},[a("div",{staticClass:"card-header justify-content-between align-items-center border-0 pt-5 pb-0"},[a("div",{staticClass:"d-flex justify-content-start align-items-center"},[a("h5",{staticClass:"card-label font-weight-bolder text-dark mb-0 mr-4"},[t._v("Gaji Tenaga Kerja Periode")]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("s-input",{attrs:{item:{nm:!0,label:"",defaultCaption:"Pilih Periode Penggajian",type:"lookup-radio",validation:[],placeholder:"",api:"payroll-periodes",pointer:{label:"periode_month|period",code:"periode_month",display:["periode_month|period","count_day_of_work|count_day_of_work"]}}},model:{value:t.selectedPeriod,callback:function(e){t.selectedPeriod=e},expression:"selectedPeriod"}})],1)]),t._v(" "),a("div",{staticClass:"card-toolbar"},[a("ul",{staticClass:"nav nav-tabs nav-tabs-line",attrs:{role:"tablist"}},[a("li",{staticClass:"nav-item mr-10"},[a("a",{staticClass:"nav-link font-size-lg font-weight-bold border-2 pb-2 mx-0 pointer",class:"sheet"===t.activeTab?"active":"",on:{click:function(e){t.activeTab="sheet"}}},[t._v("Control Sheet (Perorangan)")])]),t._v(" "),a("li",{staticClass:"nav-item mr-10"},[a("a",{staticClass:"nav-link font-size-lg font-weight-bold border-2 pb-2 mx-0 pointer",class:"jurnal"===t.activeTab?"active":"",on:{click:function(e){t.activeTab="jurnal"}}},[t._v("Control Sheet (Jabatan)")])]),t._v(" "),a("li",{staticClass:"nav-item mr-0"},[a("a",{staticClass:"nav-link font-size-lg font-weight-bold border-2 pb-2 mx-0 pointer",class:"fina"===t.activeTab?"active":"",on:{click:function(e){t.activeTab="fina"}}},[t._v("Faktur Keuangan")])])])])]),t._v(" "),a("b-overlay",{attrs:{show:t.isMainLoading,rounded:"sm"}},["sheet"==t.activeTab?a("div",{staticClass:"card-body pt-0"},[t.mainData[t.activeTab].length?a("div",{staticClass:"scrolling-table"},[a("table",{ref:"tableExport",staticClass:"table v-center header-center header-uppercase control-sheet-table table-custom-header table-hover mb-0"},[a("thead",{staticClass:"bg-light-primary"},[a("tr",[a("th",{staticClass:"nowrap-table",attrs:{rowspan:"2"}},[t._v("No")]),t._v(" "),a("th",{staticClass:"min-w-250px sticky-left",attrs:{rowspan:"2"}},[t._v("Nama Tenaga Kerja")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("Kategori Jabatan")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("Jabatan")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("Status Ketenagakerjaan")]),t._v(" "),t._l(t.mainData[t.activeTab][0].data_salary,function(e,n){return[e.data_salary_components.length>1?a("th",{key:n+"-header-"+t.activeTab,attrs:{colspan:e.data_salary_components.length}},[t._v(t._s(e.name))]):a("th",{key:n+"-header-"+t.activeTab,attrs:{rowspan:2}},[t._v(t._s(e.name))])]}),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("Jumlah Penerimaan")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("Pembulatan")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("Selisih Pembulatan")])],2),t._v(" "),a("tr",[t._l(t.mainData[t.activeTab][0].data_salary.filter(function(t){return t.data_salary_components.length>1}),function(e,n){return t._l(e.data_salary_components,function(e,s){return a("th",{key:s+"-"+n+"-header-"+t.activeTab,staticStyle:{top:"28.59px"}},[t._v(t._s(e.name))])})})],2)]),t._v(" "),a("tbody",[t._l(t.mainData[t.activeTab],function(e,n){return[a("tr",{key:n+"-data-"+t.activeTab},[a("td",{staticClass:"nowrap-table text-right"},[t._v(t._s(n+1)+".")]),t._v(" "),a("td",{staticClass:"sticky-left font-weight-bolder text-primary pointer bg-hover-light-primary",class:t.fullwidthColumns.includes("fullname")?"nowrap-table":"max-w-170px",on:{click:function(a){return t.getPayrollDetail("modal-payroll-details",e)}}},[a("div",{staticClass:"text-line-1"},[t._v(" "+t._s(e.fullname)+" ")])]),t._v(" "),a("td",{staticClass:"pointer",class:t.fullwidthColumns.includes("rel_job_position_category_id")?"nowrap-table":"",on:{click:function(e){return t.setFullWidth("rel_job_position_category_id")}}},[a("div",{staticClass:"text-line-1"},[t._v(t._s(e.rel_job_position_category_id)+" ")])]),t._v(" "),a("td",{staticClass:"pointer",class:t.fullwidthColumns.includes("rel_job_position_id")?"nowrap-table":"",on:{click:function(e){return t.setFullWidth("rel_job_position_id")}}},[a("div",{staticClass:"text-line-1"},[t._v(" "+t._s(e.rel_job_position_id)+" ")])]),t._v(" "),a("td",{staticClass:"pointer",class:t.fullwidthColumns.includes("rel_status_employment_id")?"nowrap-table":"",on:{click:function(e){return t.setFullWidth("rel_status_employment_id")}}},[a("div",{staticClass:"text-line-1"},[t._v(" "+t._s(e.rel_status_employment_id)+" ")])]),t._v(" "),t._l(e.data_salary,function(e,s){return t._l(e.data_salary_components,function(e,i){return a("td",{key:i+"-"+s+"-"+n+"-body-"+t.activeTab},[e.value?a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right"},[t._v(t._s(t._f("parse")(e.value,"number2fraction")))])]):a("span",{staticClass:"d-block text-right"},[t._v("-")])])})}),t._v(" "),a("td",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(e.salary_value,"number2fraction")))])])]),t._v(" "),a("td",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(e.pembulatan_salary,"number2fraction")))])])]),t._v(" "),a("td",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(e.selisih_pembulatan,"number2fraction")))])])])],2)]})],2),t._v(" "),a("tfoot",[a("tr",[a("th",{staticClass:"nowrap-table"}),t._v(" "),a("th",{staticClass:"text-right sticky-left"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",[t._v(t._s(t.mainData[t.activeTab].length)+" Tenaga Kerja")]),t._v(" "),a("span",{staticClass:"text-right"},[t._v("Total")])])]),t._v(" "),a("th",{attrs:{colspan:"3"}}),t._v(" "),t._l(t.mainData[t.activeTab][0].data_salary,function(e,n){return t._l(e.data_salary_components,function(e,s){return a("th",{key:s+"-"+n+"-footer-total"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].map(function(t){return t.data_salary[n].data_salary_components[s].value}).filter(function(t){return t}).reduce(function(t,e){return t+e},0),"number2fraction")))])])])})}),t._v(" "),a("th",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].map(function(t){return t.salary_value}).reduce(function(t,e){return t+e},0),"number2fraction")))])])]),t._v(" "),a("th",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].map(function(t){return t.pembulatan_salary}).reduce(function(t,e){return t+e},0),"number2fraction")))])])]),t._v(" "),a("th",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].map(function(t){return t.selisih_pembulatan}).reduce(function(t,e){return t+e},0),"number2fraction")))])])])],2)])])]):t._e()]):"jurnal"==t.activeTab?a("div",{staticClass:"card-body pt-0"},[t.mainData[t.activeTab].length?a("div",{staticClass:"scrolling-table"},[a("table",{ref:"tableExport",staticClass:"table v-center header-center header-uppercase control-sheet-table table-custom-header table-hover mb-0"},[a("thead",{staticClass:"bg-light-primary"},[a("tr",[a("th",{staticClass:"nowrap-table",attrs:{rowspan:"2"}},[t._v("No")]),t._v(" "),a("th",{staticClass:"min-w-250px sticky-left",attrs:{rowspan:"2"}},[t._v("Kategori Jabatan")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("Status Ketenagakerjaan")]),t._v(" "),t._l(t.mainData[t.activeTab][0].data_salary,function(e,n){return[e.data_salary_components.length>1?a("th",{key:n+"-header-"+t.activeTab,attrs:{colspan:e.data_salary_components.length}},[t._v(t._s(e.name))]):a("th",{key:n+"-header-"+t.activeTab,attrs:{rowspan:2}},[t._v(t._s(e.name))])]})],2),t._v(" "),a("tr",[t._l(t.mainData[t.activeTab][0].data_salary.filter(function(t){return t.data_salary_components.length>1}),function(e,n){return t._l(e.data_salary_components,function(e,s){return a("th",{key:s+"-"+n+"-header-"+t.activeTab,staticStyle:{top:"28.59px"}},[t._v(t._s(e.name))])})})],2)]),t._v(" "),a("tbody",[t._l(t.mainData[t.activeTab],function(e,n){return[a("tr",{key:n+"-data-"+t.activeTab},[a("td",{staticClass:"nowrap-table text-right"},[t._v(t._s(n+1)+".")]),t._v(" "),a("td",{staticClass:"sticky-left font-weight-bolder text-primary bg-hover-light-primary",class:t.fullwidthColumns.includes("rel_job_position_category_id")?"nowrap-table":"max-w-170px"},[a("div",{staticClass:"text-line-1"},[t._v(" "+t._s(e.rel_job_position_category_id)+" ")])]),t._v(" "),a("td",{staticClass:"pointer",class:t.fullwidthColumns.includes("rel_status_employment_id")?"nowrap-table":"",on:{click:function(e){return t.setFullWidth("rel_status_employment_id")}}},[a("div",{staticClass:"text-line-1"},[t._v(" "+t._s(e.rel_status_employment_id)+" ")])]),t._v(" "),t._l(e.data_salary,function(e,s){return t._l(e.data_salary_components,function(e,i){return a("td",{key:i+"-"+s+"-"+n+"-body-"+t.activeTab},[e.value?a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right"},[t._v(t._s(t._f("parse")(e.value,"number2fraction")))])]):a("span",{staticClass:"d-block text-right"},[t._v("-")])])})})],2)]})],2),t._v(" "),a("tfoot",[a("tr",[a("th",{staticClass:"nowrap-table"}),t._v(" "),a("th",{staticClass:"text-right sticky-left"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",[t._v(t._s(t.mainData[t.activeTab].length)+" Jabatan")]),t._v(" "),a("span",{staticClass:"text-right"},[t._v("Total")])])]),t._v(" "),a("th",{}),t._v(" "),t._l(t.mainData[t.activeTab][0].data_salary,function(e,n){return t._l(e.data_salary_components,function(e,s){return a("th",{key:s+"-"+n+"-footer-total"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].map(function(t){return t.data_salary[n].data_salary_components[s].value}).filter(function(t){return t}).reduce(function(t,e){return t+e},0),"number2fraction")))])])])})})],2)])])]):t._e()]):a("div",{staticClass:"card-body pt-0"},[t.mainData[t.activeTab]?a("div",{staticClass:"scrolling-table"},[a("table",{ref:"tableExport",staticClass:"table v-center header-center header-uppercase control-sheet-table table-custom-header table-hover mb-0"},[a("thead",{staticClass:"bg-light-primary"},[a("tr",[a("th",{staticClass:"nowrap-table"},[t._v("Kode Akun")]),t._v(" "),a("th",{},[t._v("Nama Akun")]),t._v(" "),a("th",{staticClass:"nowrap-table"},[t._v("DEBET")]),t._v(" "),a("th",{staticClass:"nowrap-table"},[t._v("KREDIT")])])]),t._v(" "),a("tbody",[t._l(t.mainData[t.activeTab].data,function(e,n){return[a("tr",{key:n+"-data-"+t.activeTab},[a("td",{staticClass:"nowrap-table text-left"},[t._v(t._s(e.account_code))]),t._v(" "),a("td",{staticClass:"font-weight-bolder"},[a("div",{staticClass:"text-line-1"},[t._v(" "+t._s(e.account_name)+" ")])]),t._v(" "),a("td",["debit"===e.debit_kredit?a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(e.sum_value,"number2fraction")))])]):t._e()]),t._v(" "),a("td",["kredit"===e.debit_kredit?a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(e.sum_value,"number2fraction")))])]):t._e()])])]})],2),t._v(" "),a("tfoot",[a("tr",[a("th",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("Jumlah")]),t._v(" "),a("th",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].summary_data.total_debit_value,"number2fraction")))])])]),t._v(" "),a("th",[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].summary_data.total_kredit_value,"number2fraction")))])])])]),t._v(" "),a("tr",[a("th",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("TOTAL (DEBET - KREDIT)")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"text-capitalize"},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bolder"},[t._v(t._s(t._f("parse")(t.mainData[t.activeTab].summary_data.total_value,"number2fraction")))])])])])])])]):t._e()]),t._v(" "),t.verifyList&&t.mainData.checklist?a("div",{staticClass:"card-body pt-0"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-md-12 col-lg-4"},[a("div",{staticClass:"sumarry-wrapper"},[a("span",{staticClass:"font-weight-bolder d-block"},[t._v("Perhitungan Gaji Tenaga Kerja periode "+t._s(t._f("parse")(t.selectedPeriod,"period"))+" ")]),t._v(" "),t.mainData.checklist&&t.mainData.checklist.status_overall?[a("hr"),t._v(" "),a("table",{staticClass:"table no-border mb-0"},[a("tr",[a("td",{staticClass:"pt-0 pl-0 nowrap-table"},[t._v("Total Penerimaan")]),t._v(" "),a("td",{staticClass:"pt-0 pr-0"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"pr-1"},[t._v(": Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(t.verifyList.data_summary.sum_salary_value,"number2fraction")))])])])]),t._v(" "),a("tr",[a("td",{staticClass:"pt-0 pl-0 nowrap-table"},[t._v("Pembulatan")]),t._v(" "),a("td",{staticClass:"pt-0 pr-0"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"pr-1"},[t._v(": Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(t.verifyList.data_summary.sum_pembulatan_salary,"number2fraction")))])])])]),t._v(" "),a("tr",[a("td",{staticClass:"pt-0 pl-0 nowrap-table"},[t._v("Selisih")]),t._v(" "),a("td",{staticClass:"pt-0 pr-0"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{staticClass:"pr-1"},[t._v(": Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(t.verifyList.data_summary.sum_selisih_pembulatan,"number2fraction")))])])])])]),t._v(" "),t.verifyList.data_summary.is_lock||"revision_request"===t.verifyList.data_summary.status_code?[a("hr"),t._v(" "),a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",{staticClass:"font-size-sm font-weight-bold"},[t._v("Deskripsi / Keterangan")]),t._v(" "),a("span",{staticClass:"label label-lg label-inline font-weight-bold py-4",class:"revision_request"===t.verifyList.data_summary.status_code?" label-light-danger":" label-light-primary"},[t._v(t._s(t._f("parse")(t.verifyList.data_summary.status_code,"verify")))])]),t._v(" "),a("p",{staticClass:"mb-0"},[t._v(" "+t._s(t.verifyList.data_summary.description||"Belum ada deskripsi / keterangan verifikasi"))])]:t._e(),t._v(" "),a("hr"),t._v(" "),t.verifyList.data_summary.is_lock?[a("div",{staticClass:"d-flex mt-3"},[a("button",{staticClass:"btn btn-info mr-3 flex-fill",attrs:{disabled:"approved"!=t.verifyList.data_summary.status_code}},[a("i",{staticClass:"ri-secure-payment-line"}),t._v(" Terbitkan Faktur Keuangan (FINA)")]),t._v(" "),a("button",{staticClass:"btn btn-icon btn-danger",on:{click:function(e){return t.lockDocument(t.verifyList.data_summary)}}},[a("i",{staticClass:"ri-lock-unlock-line"})])]),t._v(" "),a("button",{staticClass:"btn btn-lg btn-success mb-3 mt-2 btn-block",attrs:{disabled:"approved"!=t.verifyList.data_summary.status_code},on:{click:function(e){return t.$_sys.xlsHTML(t.$refs.tableExport,t.labelPrint+" - "+t.labelPeriod,t.labelPeriod)}}},[a("i",{staticClass:"ri-file-excel-2-line"}),t._v(" Export "+t._s(t.labelPrint)+"\n                  ")]),t._v(" "),"approved"!=t.verifyList.data_summary.status_code?a("p",{staticClass:"mb-0 mt-2 font-size-sm font-weight-bold"},[t._v("Faktur dapat diterbitkan ketika data verifikasi sudah lengkap. ")]):t._e()]:[a("div",{staticClass:"d-flex mt-3"},[a("button",{staticClass:"btn btn-primary mr-3 flex-fill",attrs:{disabled:t.isMainLoading},on:{click:function(e){return t.calculateAllEmployee()}}},[a("i",{staticClass:"ri-calculator-line"}),t._v(" Hitung Gaji semua Tenaga Kerja")]),t._v(" "),a("button",{staticClass:"btn btn-icon btn-success",on:{click:function(e){return t.lockDocument(t.verifyList.data_summary)}}},[a("i",{staticClass:"ri-lock-line"})])]),t._v(" "),a("p",{staticClass:"mb-0 mt-2 font-size-sm font-weight-bold"},[t._v("Kunci Perhitungan Gaji untuk mengajukan verifikasi perhitungan.")])]]:[a("div",{staticClass:"alert alert-danger mt-3 mb-0 p-5",attrs:{role:"alert"}},[a("h4",{staticClass:"alert-heading"},[t._v("ERROR !")]),t._v(" "),a("p",[t._v("Silahkan selesaikan seluruh konfigurasi Modul untuk melanjutkan ke Perhitungan Gaji Tenaga Kerja")]),t._v(" "),a("div",{staticClass:"border-bottom border-white opacity-20 mb-5"}),t._v(" "),a("p",{staticClass:"mb-0"},[t._v(t._s(t.mainData.checklist.data.filter(function(t){return"success"!==t.value}).length)+" dari "+t._s(t.mainData.checklist.data.length)+" Modul belum selesai.")])])]],2)]),t._v(" "),t.verifyList.data_summary.is_lock?a("div",{staticClass:"col-md-12 col-lg-8"},[t.verifyList.data.length?a("div",{staticClass:"d-flex justify-content-around align-items-center"},t._l(t.verifyList.data,function(e,n){return a("div",{key:n+"-signature",staticClass:"signature text-center"},[a("span",{staticClass:"d-block"},[t._v("Diverifikasi oleh,")]),t._v(" "),a("div",{staticClass:"d-flex align-items-center justify-content-center text-center my-5 min-h-80px"},[e.verified_by?a("vue-qr",{attrs:{text:t.generateText(e),size:80,margin:5}}):[t.isAllowedVerify(e)?a("button",{staticClass:"btn btn-sm btn-success",on:{click:function(a){return t.approveSheet(!0,e)}}},[t._v("Approve")]):t._e(),t._v(" "),t.isAllowedVerify(e)?a("button",{staticClass:"btn btn-sm btn-outline-danger ml-2",on:{click:function(a){return t.approveSheet(!1,e)}}},[t._v("Revisi")]):a("img",{staticClass:"img-unverified",attrs:{src:"/static/img/default/unverified-150X150.png",alt:"unverified"}})]],2),t._v(" "),a("div",{staticClass:"text-center"},[e.verified_by?a("span",{staticClass:"d-block font-weight-bold"},[t._v(t._s(e.rel_verified_by))]):a("span",{staticClass:"d-block font-weight-bold font-italic"},[t._v("Belum Diverifikasi")]),t._v(" "),a("hr",{staticClass:"text-dark-75 my-1"}),t._v(" "),a("span",{staticClass:"d-block"},[t._v(t._s(e.rel_privillege_role_id))])])])}),0):t._e()]):t._e()])]):t._e()])],1),t._v(" "),t.modalData?a("b-modal",{attrs:{id:"modal-payroll-details",title:"Rincian & Slip Gaji","hide-footer":"","hide-header":"",size:"xl"}},[a("div",{staticClass:"inner-tab"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("b-overlay",{attrs:{show:t.isLoadingSlip,rounded:"sm"}},[a("div",{staticClass:"border-primary p-5 bg-white",staticStyle:{border:"2px solid","border-radius":"13px"},attrs:{id:"printSlip"}},[a("div",{staticClass:"d-flex justify-content-start align-items-center"},[a("img",{staticClass:"max-h-45px",attrs:{src:t.$_config.logo.lg,alt:"Logo KIW"}}),t._v(" "),a("div",{staticClass:"text-left d-flex flex-column ml-5"},[a("h6",{staticClass:"mb-0 font-weight-bolder"},[t._v(" "+t._s(t.$_config.company))]),t._v(" "),a("span",{staticClass:"font-size-sm font-weight-bolder"},[t._v("Slip Gaji Periode "+t._s(t._f("parse")(t.modalData.periode_month,"period")))])])]),t._v(" "),a("hr"),t._v(" "),a("table",{staticClass:"table no-border"},[a("tr",[a("td",{staticClass:"nowrap-table py-0 pl-0"},[t._v("Periode / Bulan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-0"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-0 text-left"},[t._v(" "+t._s(t._f("parse")(t.modalData.periode_month,"period"))+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-0 pl-0"},[t._v("Nama Lengkap")]),t._v(" "),a("td",{staticClass:"nowrap-table py-0"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-0 text-left"},[t._v(" "+t._s(t.modalData.employee.rel_employee_id)+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-0 pl-0"},[t._v("Jabatan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-0"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-0 text-left"},[t._v(" "+t._s(t.modalData.employee.rel_job_position_id)+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-0 pl-0"},[t._v("Status Ketenagakerjaan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-0"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-0 text-left"},[t._v(" "+t._s(t.modalData.employee.rel_status_employment_id)+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-0 pl-0"},[t._v("Hari Kerja")]),t._v(" "),a("td",{staticClass:"nowrap-table py-0"},[t._v(":")]),t._v(" "),t.modalData.presence?a("td",{staticClass:"py-0 text-left"},[t._v(" "+t._s(t.modalData.presence.work_day_count||0)+" Hari")]):a("td",{staticClass:"py-0 text-left"},[t._v(" Tidak ditemukan! ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-0 pl-0"},[t._v("Tidak Masuk")]),t._v(" "),a("td",{staticClass:"nowrap-table py-0"},[t._v(":")]),t._v(" "),t.modalData.presence?a("td",{staticClass:"py-0 text-left"},[t._v(t._s(t.modalData.presence.work_day_lost_count||0)+" Hari")]):a("td",{staticClass:"py-0 text-left"},[t._v(" Tidak ditemukan! ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-0 pl-0"},[t._v("Terlambat")]),t._v(" "),a("td",{staticClass:"nowrap-table py-0"},[t._v(":")]),t._v(" "),t.modalData.presence?a("td",{staticClass:"py-0 text-left"},[t._v(" "+t._s(t.modalData.presence.work_day_late_count||0)+" Hari, "+t._s(t.modalData.presence.work_day_minute_late_count||0)+" Menit ")]):a("td",{staticClass:"py-0 text-left"},[t._v(" Tidak ditemukan! ")])])]),t._v(" "),a("hr"),t._v(" "),a("table",{staticClass:"table no-border mb-0"},[t._l(t.modalData.listTree,function(e,n){return[e.children.filter(function(t){return"employee"===t.charge}).length?[a("tr",{key:n+"-parent-list"},[a("th",{staticClass:"py-2",staticStyle:{border:"none"},attrs:{colspan:4}},[t._v(t._s(e.name))])]),t._v(" "),t._l(e.children.filter(function(t){return"employee"===t.charge}),function(e,s){return a("tr",{key:n+"-"+s+"-child-list"},[a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v(" ")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v(t._s(e.rel_salary_component_id)+" ")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(e.salary_component_value||0,"number")))])])])])}),t._v(" "),a("tr",{key:n+"-child-list-spacing"},[a("td",{staticClass:"py-1",staticStyle:{border:"none"},attrs:{colspan:4}})])]:t._e()]}),t._v(" "),a("tr",[a("th",{staticClass:"py-2 text-uppercase",staticStyle:{border:"none"},attrs:{colspan:4}},[t._v("Total Gaji")])]),t._v(" "),a("tr",[a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v(" ")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v("Penerimaan")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(t.modalData.employee.salary_value||0,"number")))])])])]),t._v(" "),a("tr",[a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v(" ")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v("Pembulatan")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(t.modalData.employee.pembulatan_salary||0,"number")))])])])]),t._v(" "),a("tr",[a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v(" ")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[t._v("Selisih Pembulatan")]),t._v(" "),a("td",{staticClass:"py-1",staticStyle:{border:"none"}},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",{},[t._v("Rp.")]),t._v(" "),a("span",{staticClass:"text-right font-weight-bold"},[t._v(t._s(t._f("parse")(t.modalData.employee.selisih_pembulatan||0,"number")))])])])])],2),t._v(" "),a("div",{staticClass:" text-right mt-5"},[a("span",{staticClass:"font-size-sm font-italic"},[t._v("Dicetak oleh "+t._s(t.$store.state.profile.fullname)),a("br"),t._v(t._s(t._f("parse")(new Date,"longDateTime")))])])])])],1),t._v(" "),a("div",{staticClass:"col-lg-6"},[a("table",{staticClass:"table no-border mb-10 mt-5 mt-lg-0"},[a("tr",[a("th",{staticClass:"font-size-h5 pl-0 pb-0 pt-0",attrs:{colspan:"3"}},[t._v("Tenaga Kerja")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Nama Lengkap")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t.modalData.employee.rel_employee_id)+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Jabatan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t.modalData.employee.rel_job_position_id)+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Status Ketenagakerjaan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t.modalData.employee.rel_status_employment_id)+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("MPP")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t._f("parse")(t.modalData.employee.is_mpp,"ynBool"))+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("PLT")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t._f("parse")(t.modalData.employee.is_plt,"ynBool"))+" ")])]),t._v(" "),a("tr",[a("th",{staticClass:"font-size-h5 pl-0 pb-0 pt-5",attrs:{colspan:"3"}},[t._v("Presensi Kehadiran")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Hari Kerja")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),t.modalData.presence?a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t.modalData.presence.work_day_count||0)+" Hari")]):a("td",{staticClass:"py-1 text-left"},[t._v(" Tidak ditemukan! ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Tidak Masuk")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),t.modalData.presence?a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t.modalData.presence.work_day_lost_count||0)+" Hari")]):a("td",{staticClass:"py-1 text-left"},[t._v(" Tidak ditemukan! ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Terlambat")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),t.modalData.presence?a("td",{staticClass:"py-1 text-left"},[t._v(" "+t._s(t.modalData.presence.work_day_late_count||0)+" Hari, "+t._s(t.modalData.presence.work_day_minute_late_count||0)+" Menit ")]):a("td",{staticClass:"py-1 text-left"},[t._v(" Tidak ditemukan! ")])]),t._v(" "),t.modalData.listTree.filter(function(t){return t.children.filter(function(t){return"companies"===t.charge}).length}).length?[a("tr",[a("th",{staticClass:"font-size-h5 pl-0 pb-0 pt-5",attrs:{colspan:"3"}},[t._v("Beban Perusahaan")])]),t._v(" "),t._l(t.modalData.listTree,function(e,n){return t._l(e.children.filter(function(t){return"companies"===t.charge}),function(e,s){return a("tr",{key:n+"-"+s+"-beban-perusahaan"},[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v(t._s(e.rel_salary_component_id))]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" Rp. "+t._s(t._f("parse")(e.salary_component_value||0,"number")))])])})})]:t._e(),t._v(" "),a("tr",[a("th",{staticClass:"font-size-h5 pl-0 pb-0 pt-5",attrs:{colspan:"3"}},[t._v("Penggajian")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Status Penggajian")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left font-weight-bolder",class:"calculated"===t.modalData.employee.status_salary?"text-success":"text-danger"},[t._v(" "+t._s(t._f("parse")(t.modalData.status_salary,"calculated"))+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Total Penerimaan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" Rp. "+t._s(t._f("parse")(t.modalData.employee.salary_value||0,"number"))+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Pembulatan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" Rp. "+t._s(t._f("parse")(t.modalData.employee.pembulatan_salary||0,"number"))+" ")])]),t._v(" "),a("tr",[a("td",{staticClass:"nowrap-table py-1 pl-0"},[t._v("Selisih Pembulatan")]),t._v(" "),a("td",{staticClass:"nowrap-table py-1"},[t._v(":")]),t._v(" "),a("td",{staticClass:"py-1 text-left"},[t._v(" Rp. "+t._s(t._f("parse")(t.modalData.employee.selisih_pembulatan||0,"number"))+" ")])]),t._v(" "),t.modalData.employee.salary_calculated_by&&t.modalData.employee.salary_calculated_at?a("tr",[a("td",{staticClass:"font-size-sm font-italic text-right",attrs:{colspan:"3"}},[t._v("Dihitung Oleh "+t._s(t.modalData.employee.rel_salary_calculated_by)+" pada "+t._s(t._f("parse")(t.modalData.employee.salary_calculated_at,"longDateTime")))])]):t._e()],2),t._v(" "),t.mainData.checklist.status_overall?a("div",{staticClass:"btn-actions"},[a("button",{staticClass:"btn btn-light-primary",on:{click:function(e){return t.recountDetail()}}},[a("i",{staticClass:"ri-exchange-funds-line"}),t._v(" Hitung Ulang")]),t._v(" "),a("button",{directives:[{name:"print",rawName:"v-print",value:t.printConfig,expression:"printConfig"}],staticClass:"btn btn-light-danger"},[a("i",{staticClass:"ri-printer-line"}),t._v(" Cetak PDF")]),t._v(" "),a("button",{staticClass:"btn btn-light-success",on:{click:function(e){return t.downloadSlip(t.selectedPeriod)}}},[a("i",{staticClass:"ri-download-cloud-line"}),t._v(" Download")])]):t._e()])])])]):t._e()],1)},staticRenderFns:[]};var _=a("VU/8")(u,p,!1,function(t){a("ZKjr")},null,null);e.default=_.exports}});
//# sourceMappingURL=4.e61665e9f70ab62e75a7.js.map