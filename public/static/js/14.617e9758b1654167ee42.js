webpackJsonp([14],{"6pxR":function(t,e){},"z+tA":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),s=i.n(a),n=i("Gu7T"),r=i.n(n),l=i("woOf"),o=i.n(l),c=i("pFYg"),d=i.n(c),u={name:"crud-monitoring",data:function(){return{config:{title:"Monitoring Pengumpulan RKAP Kualitatif",permission:{create:"create-monitoring",read:"view-dashboard-monitoring-qualitatif",update:"update-monitoring",delete:"delete-monitoring"}},fullFilter:{},usedFilter:{},statistic:{},barStatusOptions:{chart:{height:350,stacked:!0,type:"bar",events:{dataPointSelection:function(t,e,i){console.log(i)},dataPointMouseEnter:function(t){t.path[0].style.cursor="pointer"}}},colors:["#b5b5c3","#247dd7","#eeb42c","#c44233","#1ab45a"],plotOptions:{bar:{stacked:!0,borderRadius:4,horizontal:!0,distributed:!1,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:-15,formatter:function(t){return t?t.toLocaleString("id-ID"):void 0},style:{fontSize:"12px",fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",colors:["#fff"]}},noData:{text:"Loading Chart",align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},xaxis:{type:"category",position:"bottom"},yaxis:{labels:{formatter:function(t){return t?t.toLocaleString("id-ID"):void 0}}},tooltip:{shared:!0,intersect:!1,y:{formatter:function(t){return t?t.toLocaleString("id-ID"):void 0}},x:{formatter:function(t){return t?"Divisi : "+t:void 0}}},legend:{show:!0}},barStatusSeries:[],tableStatus:[],printConfig:{id:"table-recapt",preview:!1,standard:"strict"},selectedAgenda:{label:"RKAP Kualitatif",code:null},agendaList:[]}},watch:{selectedAgenda:{deep:!0,immediate:!1,handler:function(t){var e="object"===(void 0===t?"undefined":d()(t))?t.code:t;this.usedFilter=o()({},this.usedFilter,{agenda_id:e,page:1,limit:10})}},usedFilter:{deep:!0,immediate:!1,handler:function(t){this.loadSummary(t),this.loadChart(t)}}},methods:{globalFilterChange:function(t){this.fullFilter=o()({},t),this.getAgenda(t,null,!0)},getAgenda:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=o()({},{division_id:a?t.division_id&&t.division_id.code?t.division_id.code:null:t.division_id,periode_year:a?t.year:t.periode_year,agenda_id:i||null});this.$_api.dataset("m-qualitatif-agendas",s).then(function(t){var a=t.data.map(function(t){return{label:t.name,code:t.id}});e.agendaList=[{label:"RKAP Kualitatif",code:null}].concat(r()(a)),e.selectedAgenda=i?e.agendaList.filter(function(t){return t.code===i})[0]:e.agendaList[0],e.usedFilter=o()({},s,{search:"",page:1,limit:10,id:e.$route.query.id||null})})},loadSummary:function(t){var e=this;this.$_api.get("dashboard-qualitatif/qualitatif-accumulation-on-divisions/data",t).then(function(t){e.statistic=t.data}).catch(function(t){e.$_alert.error(t)})},loadChart:function(t){var e=this;this.$_api.get("dashboard-qualitatif/qualitatif-graph-status-on-divisions/data",t).then(function(t){e.tableStatus=t.data;for(var i=[{code:"open",name:"Open"},{code:"draft",name:"Draft"},{code:"verification_request",name:"Menunggu Verifikasi"},{code:"revision_request",name:"Revisi"},{code:"approved",name:"Diterima"}],a=[],s=function(e){var s=i[e],n=t.data.map(function(t){return{x:t.name,y:t.status_code.filter(function(t){return t.status_code===s.code})[0].value}});a.push({name:s.name,data:n})},n=0;n<i.length;n++)s(n);e.barStatusSeries=a}).catch(function(t){e.$_alert.error(t)})},goto:function(t){var e={division_id:t.id,periode_year:t.periode_year};this.$router.push({name:"pengumpulan-RKAP-kualitatif",query:s()({view:(new Date).getTime()},e)})},excelAPI:function(){var t=i("mPK/").default,e="?periode_year="+this.usedFilter.periode_year;this.usedFilter.division_id&&(e+="&division_id="+this.usedFilter.division_id);var a=this.$_config.server[t]+"/export-excel/dashboard-rekap-monitoring"+e;this.$_sys.forceDownload({url:a,filename:"Monitoring RKAP Tahun"+this.usedFilter.periode_year})}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"card card-custom mb-3"},[i("div",{staticClass:"card-body"},[i("h4",{staticClass:"card-title mb-0 font-weight-bolder mb-3"},[t._v(t._s(t.config.title))]),t._v(" "),i("global-filter",{attrs:{inline:"","allow-all":""},on:{change:function(e){return t.globalFilterChange(e)}}}),t._v(" "),i("hr",{staticStyle:{"border-style":"dashed"}}),t._v(" "),i("div",{staticClass:"d-flex align-items-center flex-fill"},[i("span",{staticClass:"font-weight-bold font-size-lg pr-3",staticStyle:{"min-width":"110px"},attrs:{for:""}},[t._v("Pilih Agenda :")]),t._v(" "),i("v-select",{staticClass:"vs-style custom flex-fill",attrs:{clearable:!1,appendToBody:!0,options:t.agendaList,placeholder:"Pilih salah satu Agenda"},model:{value:t.selectedAgenda,callback:function(e){t.selectedAgenda=e},expression:"selectedAgenda"}},[t._t("no-options",function(){return[t._v(t._s(t.$t("error.no_data")))]})],2)],1)],1)]),t._v(" "),Object.keys(t.statistic).length?i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col-2 pr-1"},[i("div",{staticClass:"statistic-card"},[i("span",{staticClass:"font-size- text-muted font-weight-bolder"},[t._v("Total Item Template")]),t._v(" "),i("div",{staticClass:"d-flex justify-content-between align-items-center text-primary"},[i("span",{staticClass:"font-size-h1 font-weight-bolder"},[t._v(t._s(t.statistic.total_template_count||0))]),t._v(" "),i("i",{staticClass:"ri-profile-line ri-3x text-primary",staticStyle:{"line-height":"1"}})])])]),t._v(" "),i("div",{staticClass:"col-2 px-1"},[i("div",{staticClass:"statistic-card"},[i("span",{staticClass:"font-size- text-muted font-weight-bolder"},[t._v("Open")]),t._v(" "),i("div",{staticClass:"d-flex justify-content-between align-items-center text-muted"},[i("span",{staticClass:"font-size-h1 font-weight-bolder"},[t._v(t._s(t.statistic.total_template_open_count||0))]),t._v(" "),i("i",{staticClass:"ri-profile-line ri-3x text-muted",staticStyle:{"line-height":"1"}})])])]),t._v(" "),i("div",{staticClass:"col-2 px-1"},[i("div",{staticClass:"statistic-card"},[i("span",{staticClass:"font-size- text-muted font-weight-bolder"},[t._v("Draft")]),t._v(" "),i("div",{staticClass:"d-flex justify-content-between align-items-center text-info"},[i("span",{staticClass:"font-size-h1 font-weight-bolder"},[t._v(t._s(t.statistic.total_template_draft_count||0))]),t._v(" "),i("i",{staticClass:"ri-profile-line ri-3x text-info",staticStyle:{"line-height":"1"}})])])]),t._v(" "),i("div",{staticClass:"col-2 px-1"},[i("div",{staticClass:"statistic-card"},[i("span",{staticClass:"font-size- text-muted font-weight-bolder"},[t._v("Menunggu Verifikasi")]),t._v(" "),i("div",{staticClass:"d-flex justify-content-between align-items-center text-warning"},[i("span",{staticClass:"font-size-h1 font-weight-bolder"},[t._v(t._s(t.statistic.total_template_verification_request_count||0))]),t._v(" "),i("i",{staticClass:"ri-profile-line ri-3x text-warning",staticStyle:{"line-height":"1"}})])])]),t._v(" "),i("div",{staticClass:"col-2 px-1"},[i("div",{staticClass:"statistic-card"},[i("span",{staticClass:"font-size- text-muted font-weight-bolder"},[t._v("Revisi")]),t._v(" "),i("div",{staticClass:"d-flex justify-content-between align-items-center text-danger"},[i("span",{staticClass:"font-size-h1 font-weight-bolder"},[t._v(t._s(t.statistic.total_template_revision_request_count||0))]),t._v(" "),i("i",{staticClass:"ri-profile-line ri-3x text-danger",staticStyle:{"line-height":"1"}})])])]),t._v(" "),i("div",{staticClass:"col-2 pl-1"},[i("div",{staticClass:"statistic-card"},[i("span",{staticClass:"font-size- text-muted font-weight-bolder"},[t._v("Diterima")]),t._v(" "),i("div",{staticClass:"d-flex justify-content-between align-items-center text-success"},[i("span",{staticClass:"font-size-h1 font-weight-bolder"},[t._v(t._s(t.statistic.total_template_approved_count||0))]),t._v(" "),i("i",{staticClass:"ri-profile-line ri-3x text-success",staticStyle:{"line-height":"1"}})])])])]):t._e(),t._v(" "),i("div",{staticClass:"card card-custom mb-3"},[i("div",{staticClass:"card-body position-relative p-3"},[t.barStatusSeries.length?i("apexchart",{attrs:{type:"bar",height:50*t.barStatusSeries.length,options:t.barStatusOptions,series:t.barStatusSeries}}):t._e()],1)]),t._v(" "),i("div",{staticClass:"card card-custom mb-3"},[i("div",{staticClass:"card-header border-0 py-5"},[t._m(0),t._v(" "),i("div",{staticClass:"card-toolbar"},[i("a",{staticClass:"btn btn-success font-weight-bolder font-size-sm mr-3",on:{click:function(e){return t.excelAPI()}}},[i("i",{staticClass:"ri-file-excel-2-line font-weight-normal"}),t._v(" Export Excel ")]),t._v(" "),i("button",{directives:[{name:"print",rawName:"v-print",value:t.printConfig,expression:"printConfig"}],staticClass:"btn btn-danger font-weight-bolder font-size-sm mr-3"},[i("i",{staticClass:"ri-printer-line font-weight-normal"}),t._v(" Cetak PDF")])])]),t._v(" "),i("div",{staticClass:"card-body pt-0 position-relative",attrs:{id:"print-report"}},[i("table",{ref:"table-recapt",staticClass:"table table-custom-header-bg v-center bg-transparent",attrs:{id:"table-recapt"}},[t._m(1),t._v(" "),t.tableStatus.length?i("tbody",t._l(t.tableStatus,function(e,a){return i("tr",{key:a+"-status-table"},[i("th",{staticClass:"pl-0 text-primary pointer",on:{click:function(i){return t.goto(e)}}},[t._v(t._s(e.name))]),t._v(" "),i("td",{staticClass:"text-center"},[t._v(t._s(e.total_template_count))]),t._v(" "),i("td",{staticClass:"text-center"},[t._v(t._s(e.status_code.filter(function(t){return"open"===t.status_code})[0].value||0))]),t._v(" "),i("td",{staticClass:"text-center"},[t._v(t._s(e.status_code.filter(function(t){return"draft"===t.status_code})[0].value||0))]),t._v(" "),i("td",{staticClass:"text-center"},[t._v(t._s(e.status_code.filter(function(t){return"verification_request"===t.status_code})[0].value||0))]),t._v(" "),i("td",{staticClass:"text-center"},[t._v(t._s(e.status_code.filter(function(t){return"revision_request"===t.status_code})[0].value||0))]),t._v(" "),i("td",{staticClass:"text-center"},[t._v(t._s(e.status_code.filter(function(t){return"approved"===t.status_code})[0].value||0))]),t._v(" "),i("td",{staticClass:"nowrap-table"},[t._v(t._s(t._f("parse")(e.closing_date,"longDate"))+" ("+t._s(e.countdown)+")")])])}),0):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"card-title align-items-start flex-column"},[e("span",{staticClass:"card-label font-weight-bolder text-dark"},[this._v("Rekap Monitoring")]),this._v(" "),e("span",{staticClass:"text-muted mt-3 font-weight-bold font-size-sm"},[this._v("Pengumpulan data input RKAP Kualitatif")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"pl-0"},[t._v("Nama Divisi")]),t._v(" "),i("th",{staticClass:"nowrap-table text-center"},[t._v("Total Template")]),t._v(" "),i("th",{staticClass:"nowrap-table text-center"},[t._v("Open")]),t._v(" "),i("th",{staticClass:"nowrap-table text-center"},[t._v("Draft")]),t._v(" "),i("th",{staticClass:"nowrap-table text-center"},[t._v("Menunggu Verifikasi")]),t._v(" "),i("th",{staticClass:"nowrap-table text-center"},[t._v("Revisi")]),t._v(" "),i("th",{staticClass:"nowrap-table text-center"},[t._v("Diterima")]),t._v(" "),i("th",{staticClass:"nowrap-table"},[t._v("Batas Waktu Pengumpulan")])])])}]};var f=i("VU/8")(u,v,!1,function(t){i("6pxR")},"data-v-639dc13b",null);e.default=f.exports}});
//# sourceMappingURL=14.617e9758b1654167ee42.js.map