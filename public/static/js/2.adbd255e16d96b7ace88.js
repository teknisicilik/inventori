webpackJsonp([2],{"33EQ":function(e,t){},bm7V:function(e,t,a){
/*!
  * vue-scrollto v2.20.0
  * (c) 2019 Randjelovic Igor
  * @license MIT
  */var n;n=function(){"use strict";function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var a=4,n=.001,i=1e-7,r=10,o=11,l=1/(o-1),s="function"==typeof Float32Array;function c(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function d(e){return 3*e}function p(e,t,a){return((c(t,a)*e+u(t,a))*e+d(t))*e}function f(e,t,a){return 3*c(t,a)*e*e+2*u(t,a)*e+d(t)}function m(e){return e}var v=function(e,t,c,u){if(!(0<=e&&e<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&c===u)return m;for(var d=s?new Float32Array(o):new Array(o),v=0;v<o;++v)d[v]=p(v*l,e,c);function h(t){for(var s=0,u=1,m=o-1;u!==m&&d[u]<=t;++u)s+=l;var v=s+(t-d[--u])/(d[u+1]-d[u])*l,h=f(v,e,c);return h>=n?function(e,t,n,i){for(var r=0;r<a;++r){var o=f(t,n,i);if(0===o)return t;t-=(p(t,n,i)-e)/o}return t}(t,v,e,c):0===h?v:function(e,t,a,n,o){var l,s,c=0;do{(l=p(s=t+(a-t)/2,n,o)-e)>0?a=s:t=s}while(Math.abs(l)>i&&++c<r);return s}(t,s,s+l,e,c)}return function(e){return 0===e?0:1===e?1:p(h(e),t,u)}},h={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},_=!1;try{var y=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,y)}catch(e){}var g={$:function(e){return"string"!=typeof e?e:document.querySelector(e)},on:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++)e.addEventListener(t[i],a,!!_&&n)},off:function(e,t,a){t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++)e.removeEventListener(t[n],a)},cumulativeOffset:function(e){var t=0,a=0;do{t+=e.offsetTop||0,a+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:a}}},b=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],w={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function C(e){w=t({},w,e)}var x=function(){var t,a,n,i,r,o,l,s,c,u,d,p,f,m,_,y,C,x,P,k,A,j,S,I,L,D,$,T=function(e){s&&(S=e,k=!0)};function O(){A=g.cumulativeOffset(a),j=g.cumulativeOffset(t),p&&(_=j.left-A.left+o,x=_-m),f&&(C=j.top-A.top+o,P=C-y)}function E(e){if(k)return F();L||(L=e),r||O(),D=e-L,$=Math.min(D/n,1),$=I($),z(a,y+P*$,m+x*$),D<n?window.requestAnimationFrame(E):F()}function F(){k||z(a,C,_),L=!1,g.off(a,b,T),k&&d&&d(S,t),!k&&u&&u(t)}function z(e,t,a){f&&(e.scrollTop=t),p&&(e.scrollLeft=a),"body"===e.tagName.toLowerCase()&&(f&&(document.documentElement.scrollTop=t),p&&(document.documentElement.scrollLeft=a))}return function(_,A){var j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===e(A)?j=A:"number"==typeof A&&(j.duration=A),!(t=g.$(_)))return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+_);if(a=g.$(j.container||w.container),n=j.hasOwnProperty("duration")?j.duration:w.duration,r=j.hasOwnProperty("lazy")?j.lazy:w.lazy,i=j.easing||w.easing,o=j.hasOwnProperty("offset")?j.offset:w.offset,l=j.hasOwnProperty("force")?!1!==j.force:w.force,s=j.hasOwnProperty("cancelable")?!1!==j.cancelable:w.cancelable,c=j.onStart||w.onStart,u=j.onDone||w.onDone,d=j.onCancel||w.onCancel,p=void 0===j.x?w.x:j.x,f=void 0===j.y?w.y:j.y,"function"==typeof o&&(o=o(t,a)),m=function(e){var t=e.scrollLeft;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollLeft),t}(a),y=function(e){var t=e.scrollTop;return"body"===e.tagName.toLowerCase()&&(t=t||document.documentElement.scrollTop),t}(a),O(),k=!1,!l){var L="body"===a.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:a.offsetHeight,D=y,$=D+L,F=C-o,z=F+t.offsetHeight;if(F>=D&&z<=$)return void(u&&u(t))}if(c&&c(t),P||x)return"string"==typeof i&&(i=h[i]||h.ease),I=v.apply(v,i),g.on(a,b,T,{passive:!0}),window.requestAnimationFrame(E),function(){S=null,k=!0};u&&u(t)}},P=x(),k=[];function A(e){var t=function(e){for(var t=0;t<k.length;++t)if(k[t].el===e)return k[t]}(e);return t||(k.push(t={el:e,binding:{}}),t)}function j(e){var t=A(this).binding;if(t.value){if(e.preventDefault(),"string"==typeof t.value)return P(t.value);P(t.value.el||t.value.element,t.value)}}var S={bind:function(e,t){A(e).binding=t,g.on(e,"click",j)},unbind:function(e){!function(e){for(var t=0;t<k.length;++t)if(k[t].el===e)return k.splice(t,1),!0}(e),g.off(e,"click",j)},update:function(e,t){A(e).binding=t}},I={bind:S.bind,unbind:S.unbind,update:S.update,beforeMount:S.bind,unmounted:S.unbind,updated:S.update,scrollTo:P,bindings:k},L=function(e,t){t&&C(t),e.directive("scroll-to",I),(e.config.globalProperties||e.prototype).$scrollTo=I.scrollTo};return"undefined"!=typeof window&&window.Vue&&(window.VueScrollTo=I,window.VueScrollTo.setDefaults=C,window.VueScrollTo.scroller=x,window.Vue.use&&window.Vue.use(L)),I.install=L,I},e.exports=n()},jFxa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),r=a("woOf"),o=a.n(r),l=a("Xxa5"),s=a.n(l),c=a("exGp"),u=a.n(c),d=a("PJh5"),p=a.n(d);p.a.locale("id");var f={name:"template-setup-gaji",data:function(){return{config:{getter:"custom/mapping-template-salary-employees-table",setter:"custom/mapping-template-salary-employees-table",permission:{create:"create-control-sheet-payroll",read:"view-control-sheet-payroll",update:"update-control-sheet-payroll",delete:"delete-control-sheet-payroll"}},selectedPeriod:null,selectedCategory:null,fullwidthColumns:[],total:0,isLoading:!1,inputSearch:null,mainData:[],paramAPI:{page:1,limit:20,sort_by:"",sort:"DESC",search:"",filters:{}}}},computed:{detailPagination:function(){var e=this.paramAPI.limit>this.mainData.length?this.mainData.length:this.paramAPI.limit;return this.$t("global.display")+" "+e+" "+this.$t("global.of")+" "+this.total+" "+this.$t("global.record")}},watch:{selectedCategory:{deep:!1,immediate:!1,handler:function(e){if(e){var t=a("bm7V"),n=this.$refs[e+"-komponen-gaji"];t.scrollTo(n[0],500,{container:"#template-gaji-sheet",force:!0,lazy:!1,offset:-250,x:!0,y:!1})}}},selectedPeriod:{deep:!1,immediate:!0,handler:function(e){var t=this;return u()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e&&(t.$store.commit("set",["lastSelectedPeriodPayroll",e,!0]),t.getListData(t.paramAPI));case 1:case"end":return a.stop()}},a,t)}))()}},inputSearch:{deep:!1,immediate:!1,handler:function(e){var t=o()({},this.paramAPI);t.page=1,t.search=e,this.paramAPI=o()({},t)}},filter:{deep:!0,immediate:!0,handler:function(e){var t=o()({},this.paramAPI);t.page=1,t.filters=e,this.paramAPI=o()({},t)}},paramAPI:{deep:!0,immediate:!1,handler:function(e){this.getListData(e)}}},beforeMount:function(){this.setThisMonth()},methods:{setThisMonth:function(){var e=this;return u()(s.a.mark(function t(){var a,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$store.state.lastSelectedPeriodPayroll){t.next=8;break}return t.next=4,e.sendAPI("list","payroll-periodes",{periode_month:p()(new Date).set({date:1}).format("YYYY-MM-DD")});case 4:(n=t.sent).length&&(e.selectedPeriod=n[0].periode_month,e.$store.commit("set",["lastSelectedPeriodPayroll",n[0].periode_month,!1])),t.next=9;break;case 8:e.selectedPeriod=a;case 9:case"end":return t.stop()}},t,e)}))()},setFullWidth:function(e){this.fullwidthColumns.includes(e)?this.fullwidthColumns=this.fullwidthColumns.filter(function(t){return t!==e}):this.fullwidthColumns.push(e)},changedValue:function(e,t){var a=this;return u()(s.a.mark(function n(){var i;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.isLoading=!0,i={periode_month:a.selectedPeriod,employee_id:e,salary_component_id:t.id,default_value:t.default_value},n.next=4,a.sendAPI("update",a.config.setter,i);case 4:a.isLoading=!1;case 5:case"end":return n.stop()}},n,a)}))()},updateActive:function(e,t){var a=this;return u()(s.a.mark(function n(){var i,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a.isLoading=!0,i=1===t.active?0:1,r={active:i,periode_month:a.selectedPeriod,employee_id:e,salary_component_id:t.id,default_value:0},0!==i){n.next=7;break}a.$_alert.confirm("Non-Aktifkan Komponen","Nilai komponen akan dihapus ketika Komponen non-aktif, Lanjutkan?").then(function(){var e=u()(s.a.mark(function e(n){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=5;break}return e.next=3,a.sendAPI("update",a.config.setter,r);case 3:t.active=i,t.default_value=0;case 5:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()),n.next=11;break;case 7:return n.next=9,a.sendAPI("update",a.config.setter,r);case 9:t.active=i,t.default_value=0;case 11:a.isLoading=!1;case 12:case"end":return n.stop()}},n,a)}))()},getListData:function(e){var t=this;return u()(s.a.mark(function a(){var n,r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.isLoading=!0,n=i()({periode_month:t.selectedPeriod},e),a.next=4,t.sendAPI("list",t.config.getter,n);case 4:r=a.sent,t.total=r.total,t.mainData=r.data,t.isLoading=!1;case 8:case"end":return a.stop()}},a,t)}))()},sendAPI:function(e,t,a){var n=this;return this.$_api[e](t,a).then(function(e){return e}).catch(function(e){n.$_alert.error(e)})}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card card-custom mb-0"},[a("div",{staticClass:"card-header border-0 pt-5 pb-0"},[a("div",{staticClass:"flex-fill"},[e._m(0),e._v(" "),a("div",{staticClass:"d-flex mt-3"},[a("div",{staticClass:"d-flex align-items-center mr-3"},[a("span",{staticClass:"d-block mr-3 font-size-sm"},[e._v("Periode Penggajian :")]),e._v(" "),a("s-input",{attrs:{item:{nm:!0,label:"",defaultCaption:"Pilih Periode Penggajian",type:"lookup-radio",validation:[],placeholder:"",api:"payroll-periodes",pointer:{label:"periode_month|period",code:"periode_month",display:["periode_month|period","count_day_of_work|count_day_of_work"]}}},model:{value:e.selectedPeriod,callback:function(t){e.selectedPeriod=t},expression:"selectedPeriod"}})],1),e._v(" "),a("div",{staticClass:"d-flex align-items-center mr-3"},[a("span",{staticClass:"d-block mr-3 font-size-sm"},[e._v("Komponen :")]),e._v(" "),a("s-input",{attrs:{item:{ic:"min-w-300px",nm:!0,label:"",defaultCaption:"Pilih Komponen",type:"select",validation:[],placeholder:"Pilih Kategori Komponen",api:"master-salary-components",pointer:{label:"name",code:"id",display:["name","rel_salary_component_category_id"]}}},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}})],1),e._v(" "),a("div",{staticClass:"d-flex flex-fill align-items-center mr-3"},[a("div",{staticClass:"form-group mb-0  flex-fill"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.inputSearch,expression:"inputSearch",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"Cari Nama / Jabatan / Status Tenaga kerja"},domProps:{value:e.inputSearch},on:{change:function(t){e.inputSearch=t.target.value}}})])])])])]),e._v(" "),a("div",{staticClass:"card-body pt-3"},[e.mainData.length?a("div",{staticClass:"scrolling-table",attrs:{id:"template-gaji-sheet"}},[a("table",{ref:"template-gaji-sheet",staticClass:"table v-center header-center header-uppercase template-gaji-sheet table-custom-header mb-0"},[a("thead",{staticClass:"bg-light-primary"},[a("tr",[a("th",{staticClass:"nowrap-table bg-light-primary",attrs:{rowspan:"2"}},[e._v("No")]),e._v(" "),a("th",{staticClass:"min-w-250px sticky-left bg-light-primary",attrs:{rowspan:"2"}},[e._v("Nama Tenaga Kerja")]),e._v(" "),a("th",{attrs:{rowspan:"2"}},[e._v("Kategori Jabatan")]),e._v(" "),a("th",{attrs:{rowspan:"2"}},[e._v("Jabatan")]),e._v(" "),a("th",{attrs:{rowspan:"2"}},[e._v("Status Ketenagakerjaan")]),e._v(" "),e._l(e.mainData[0].data_salary,function(t,n){return[t.data_salary_components.length>1?a("th",{key:n+"-header-template",attrs:{colspan:t.data_salary_components.length}},[e._v(e._s(t.name))]):a("th",{key:n+"-header-template",ref:t.data_salary_components[0].id+"-komponen-gaji",refInFor:!0,class:t.data_salary_components[0].id===e.selectedCategory?"bg-light-info":"",attrs:{rowspan:2,id:t.data_salary_components[0].id+"-komponen-gaji"}},[e._v(e._s(t.name))])]})],2),e._v(" "),a("tr",[e._l(e.mainData[0].data_salary.filter(function(e){return e.data_salary_components.length>1}),function(t,n){return e._l(t.data_salary_components,function(t,i){return a("th",{key:i+"-"+n+"-header-template",ref:t.id+"-komponen-gaji",refInFor:!0,class:t.id===e.selectedCategory?"bg-light-info":"",staticStyle:{top:"28.59px"},attrs:{id:t.id+"-komponen-gaji"}},[e._v(" "+e._s(t.name)+" ")])})})],2)]),e._v(" "),a("tbody",[e._l(e.mainData,function(t,n){return[a("tr",{key:n+"-data-template"},[a("td",{staticClass:"nowrap-table text-right bg-light-primary"},[e._v(e._s(n+1)+".")]),e._v(" "),a("td",{staticClass:"sticky-left bg-light-primary font-weight-bold",class:e.fullwidthColumns.includes("rel_employee_id")?"nowrap-table":"max-w-170px",on:{click:function(t){return e.setFullWidth("rel_employee_id")}}},[a("div",{staticClass:"text-line-1"},[e._v(" "+e._s(t.rel_employee_id)+" ")])]),e._v(" "),a("td",{staticClass:"pointer",class:e.fullwidthColumns.includes("rel_job_position_category_id")?"nowrap-table":"",on:{click:function(t){return e.setFullWidth("rel_job_position_category_id")}}},[a("div",{staticClass:"text-line-1"},[e._v(e._s(t.rel_job_position_category_id)+" ")])]),e._v(" "),a("td",{staticClass:"pointer",class:e.fullwidthColumns.includes("rel_job_position_id")?"nowrap-table":"",on:{click:function(t){return e.setFullWidth("rel_job_position_id")}}},[a("div",{staticClass:"text-line-1"},[e._v(" "+e._s(t.rel_job_position_id)+" ")])]),e._v(" "),a("td",{staticClass:"pointer",class:e.fullwidthColumns.includes("rel_status_employment_id")?"nowrap-table":"",on:{click:function(t){return e.setFullWidth("rel_status_employment_id")}}},[a("div",{staticClass:"text-line-1"},[e._v(" "+e._s(t.rel_status_employment_id)+" ")])]),e._v(" "),e._l(t.data_salary,function(i,r){return e._l(i.data_salary_components,function(i,o){return a("td",{key:o+"-"+r+"-"+n+"-body-template",staticClass:"input-td"},[1===i.active?[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("vue-numeric",{staticClass:"form-control form-control-sm",attrs:{separator:".","empty-value":0,currency:"Rp.",precision:2},on:{change:function(a){return e.changedValue(t.employee_id,i)}},model:{value:i.default_value,callback:function(t){e.$set(i,"default_value",t)},expression:"s.default_value"}}),e._v(" "),a("button",{staticClass:"btn btn-sm btn-block btn-light-danger btn-icon",on:{click:function(a){return e.updateActive(t.employee_id,i)}}},[a("i",{staticClass:"ri-shut-down-line"})])],1)]:[a("button",{staticClass:"btn btn-sm btn-block btn-light-primary",on:{click:function(a){return e.updateActive(t.employee_id,i)}}},[e._v("Aktifkan Komponen")])]],2)})})],2)]})],2)])]):e._e(),e._v(" "),e.mainData.length>0?a("div",{staticClass:"d-flex justify-content-between align-items-center flex-wrap"},[a("b-pagination",{staticClass:"mb-0",attrs:{size:"md","prev-text":"Sebelumnya","next-text":"Selanjutnya","hide-goto-end-buttons":"","total-rows":e.total,"per-page":e.paramAPI.limit},model:{value:e.paramAPI.page,callback:function(t){e.$set(e.paramAPI,"page",t)},expression:"paramAPI.page"}}),e._v(" "),a("div",{staticClass:"d-flex align-items-center py-3"},[e.isLoading?a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"mr-2 text-muted"},[e._v(e._s(e.$t("global.loading"))+" ...")]),e._v(" "),a("div",{staticClass:"spinner spinner-primary mr-10"})]):e._e(),e._v(" "),a("v-select",{staticClass:"limit-table mr-4",attrs:{placeholder:"Limit Data",value:e.paramAPI.limit,"append-to-body":"",searchable:!1,clearable:!1,options:[10,20,50,100]},model:{value:e.paramAPI.limit,callback:function(t){e.$set(e.paramAPI,"limit",t)},expression:"paramAPI.limit"}}),e._v(" "),a("span",{staticClass:"text-muted"},[e._v(e._s(e.detailPagination))])],1)],1):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{staticClass:"card-title align-items-start flex-column"},[t("span",{staticClass:"card-label font-weight-bolder text-dark mb-3"},[this._v("Template Gaji Tenaga Kerja")])])}]};var v=a("VU/8")(f,m,!1,function(e){a("33EQ")},null,null);t.default=v.exports}});
//# sourceMappingURL=2.adbd255e16d96b7ace88.js.map