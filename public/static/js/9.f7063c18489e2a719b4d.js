webpackJsonp([9],{Fibs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),l=a.n(i),r={name:"crud-users",data:function(){return{config:{title:"Daftar Pengguna",model_api:"users",getter:"users",setter:"users",pk_field:"username",export:!0,permission:{create:"create-users",read:"view-users",update:"update-users",delete:"delete-users"},fields:[{id:"fullname",label:"Karyawan / Tenaga Kerja"},{id:"username",label:"SSO Username"},{id:"telephone",label:"No. Telp"},{id:"nip",label:"NIP (Nomor Induk Pegawai)"},{id:"last_login_at",label:"Login Terakhir",methods:{list:{transform:"longDateTime"}}},{id:"email_verified_at",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"approval_at",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"approval_by",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"approval_description",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"password",methods:{list:!1,detail:!1,create:!0,update:!1,filter:!1}},{id:"id",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"updated_by",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"created_by",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"created_at",label:"Dibuat",methods:{create:!1,update:!1,filter:!1}},{id:"updated_at",label:"Diperbarui",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"img_photo_user",label:"Foto Pengguna",methods:{list:!1,detail:{type:"file",view_data:"img_photo_user.url"},create:{type:"file",attr:[{accept:"image/*"},{limit:5}]},update:{type:"file",attr:[{accept:"image/*"},{limit:5}],view_data:"img_photo_user"}}},{id:"status_code",data:"status_code",label:"Status Verifikasi",placeholder:null,methods:{list:!1,detail:{order:!0,class:{email_unverified:"badge badge-danger",email_verified:"badge badge-primary",user_active:"badge badge-success"},transform:"status_code"},create:!1,update:!1,filter:!1}},{id:"role_id",label:"Role",methods:{create:{setter:"roles",getter:"roles",type:"lookup-radio",option:{list_pointer:{label:"role_name",code:"id",display:["role_name"]}}},update:{setter:"roles",getter:"roles",type:"lookup-radio",option:{list_pointer:{label:"role_name",code:"id",display:["role_name"]}}},filter:{setter:"roles",getter:"roles",type:"lookup-radio",option:{list_pointer:{label:"role_name",code:"id",display:["role_name"]}}}}}]},mainForm:{sso_user_id:null,role_id:null,employee_id:null}}},methods:{sumbitUser:function(){var e=this;this.$_api.post("sso/user/create",this.mainForm).then(function(t){e.$_alert.success(null,t.message),e.$children[0].$children[1].getData(null),e.successAction(!0)},function(t){e.$_alert.error(t)})},successAction:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.mainForm=l()({},{sso_user_id:null,role_id:null,employee_id:null}),e&&this.$bvModal.hide("modal-add-user")},changeUserStatus:function(e){var t=this;e.status_code="user_nonactive",this.$_api.post("users/active-deactive",e).then(function(e){t.$_alert.success(null,e.message),t.$children[0].$children[1].getData(null)},function(e){t.$_alert.error(e)})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tas-base-crud",{attrs:{config:e.config,"hide-create":"","hide-update":""},scopedSlots:e._u([{key:"list-action",fn:function(){return[e.$_sys.isAllowed(e.config.permission.create)?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add-user",modifiers:{"modal-add-user":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.top",value:e.$t("global.add_new"),expression:"$t('global.add_new')",modifiers:{top:!0}}],staticClass:"btn btn-primary btn-icon btn-circle ml-3"},[a("i",{staticClass:"ri-add-line p-0"})]):e._e(),e._v(" "),a("b-modal",{attrs:{id:"modal-add-user","hide-footer":"","hide-header":"",size:"md"}},[a("h3",{staticClass:"card-title mb-0"},[a("span",{staticClass:"card-label font-weight-bolder text-dark"},[e._v("Tambah Pengguna")])]),e._v(" "),a("hr"),e._v(" "),a("form",{attrs:{autocomplete:"off"}},[a("s-input",{attrs:{item:{label:"SSO User",type:"lookup-radio",validation:[],placeholder:"",api:"sso/user",param:{application_code:"kiw-hrm-v2"},pointer:{label:"username",code:"id",display:["username","fullname","nip","email"]}}},model:{value:e.mainForm.sso_user_id,callback:function(t){e.$set(e.mainForm,"sso_user_id",t)},expression:"mainForm.sso_user_id"}}),e._v(" "),a("s-input",{attrs:{item:{label:"Role Pengguna",type:"lookup-radio",validation:[],placeholder:"",api:"roles",pointer:{label:"role_name",code:"id",display:["role_name","role_code"]}}},model:{value:e.mainForm.role_id,callback:function(t){e.$set(e.mainForm,"role_id",t)},expression:"mainForm.role_id"}}),e._v(" "),a("s-input",{attrs:{item:{label:"Karyawan / Tenaga Kerja",type:"lookup-radio",validation:[],placeholder:"",api:"custom/employees-no-user",pointer:{label:"fullname",code:"id",display:["fullname","nip","email"]}}},model:{value:e.mainForm.employee_id,callback:function(t){e.$set(e.mainForm,"employee_id",t)},expression:"mainForm.employee_id"}})],1),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-success",on:{click:function(t){return e.sumbitUser()}}},[e._v("Simpan pengguna")])])])]},proxy:!0}])})},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(e){a("bgFh")},null,null);t.default=o.exports},bgFh:function(e,t){}});
//# sourceMappingURL=9.f7063c18489e2a719b4d.js.map