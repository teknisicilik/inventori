webpackJsonp([68],{"4Ijf":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=e("Dd8w"),s=e.n(l),i=e("Xxa5"),n=e.n(i),o=e("woOf"),d=e.n(o),r=e("exGp"),p=e.n(r),_={name:"crud-tunjangan-transport-details",data:function(){return{modalData:{},mainKey:0,config:{title:"Data Tunjangan Transport",model_api:null,getter:"custom/tunjangan-transport-details",setter:"tunjangan-transport-details",pk_field:"name",filter_api:{},custom_api:{create:"custom/tunjangan-transport-details"},permission:{create:"create-tunjangan-transport-details",read:"view-tunjangan-transport-details",update:"update-tunjangan-transport-details",delete:"delete-tunjangan-transport-details"},slave:[],fields:[{id:"id",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"updated_by",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"created_by",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"created_at",label:"Dibuat",methods:{create:!1,update:!1,filter:!1}},{id:"updated_at",label:"Diperbarui",methods:{list:!1,detail:!1,create:!1,update:!1,filter:!1}},{id:"status_code",data:"status_code",label:"Status",placeholder:null,methods:{list:{order:!0,class:{not_calculated_yet:"badge badge-danger",calculated:"badge badge-primary"},transform:"calculated"},detail:{order:!0,class:{not_calculated_yet:"badge badge-danger",calculated:"badge badge-primary"},transform:"calculated"},create:!1,update:{view_data:"status_code",type:"radio",value:"calculated",option:{list_pointer:{label:"label",code:"code",list:[{label:"Sudah dihitung",code:"calculated"},{label:"Belum dihitung",code:"not_calculated_yet"}]}}},filter:{view_data:"status_code",type:"radio",option:{list_pointer:{label:"label",code:"code",list:[{label:"Sudah dihitung",code:"calculated"},{label:"Belum dihitung",code:"not_calculated_yet"}]}}}}},{id:"employee_id",label:"Nama Tenaga Kerja",methods:{list:{view_data:"rel_employee_id"},create:{setter:"employees",getter:"employees",type:"lookup-radio",option:{list_pointer:{label:"fullname",code:"id",display:["nip","fullname"]}}},update:{setter:"employees",getter:"employees",type:"lookup-radio",option:{list_pointer:{label:"fullname",code:"id",display:["nip","fullname"]}}},filter:{setter:"employees",getter:"employees",type:"lookup-radio",option:{list_pointer:{label:"fullname",code:"id",display:["nip","fullname"]}}}}},{id:"job_position_id",label:"Jabatan",methods:{list:{view_data:"rel_job_position_id"},create:!1,update:{setter:"job-positions",getter:"job-positions",type:"lookup-radio",option:{list_pointer:{label:"job_position_name",code:"id",display:["job_position_name"]}}},filter:{setter:"job-positions",getter:"job-positions",type:"lookup-radio",option:{list_pointer:{label:"job_position_name",code:"id",display:["job_position_name"]}}}}},{id:"status_employment_id",label:"Status Ketenagakerjaan",methods:{list:{view_data:"rel_status_employment_id",show:!1},create:!1,update:{setter:"custom/master-status-employments",getter:"custom/master-status-employments",type:"lookup-radio",option:{list_pointer:{label:"name",code:"id",display:["name"]},get_param:[{id:"job_position_id"}]}},filter:{setter:"custom/master-status-employments",getter:"custom/master-status-employments",type:"lookup-radio",option:{list_pointer:{label:"name",code:"id",display:["name"]},get_param:[{id:"job_position_id"}]}}}},{id:"is_use_presence_data",label:"Presensi",methods:{list:{order:!0,class:{false:"badge badge-danger",true:"badge badge-primary"},transform:"ynBool"},detail:!1,create:!1,update:{type:"radio",option:{list_pointer:{label:"label",code:"code",list:[{label:"Ya",code:!0},{label:"Tidak",code:!1}]}}},filter:{type:"radio",option:{list_pointer:{label:"label",code:"code",list:[{label:"Ya",code:!0},{label:"Tidak",code:!1}]}}}}},{id:"penerimaan_value",label:"Penerimaan",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"base_value",label:"Nilai Dasar",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"tunjangan_value",label:"Tunjangan",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"potongan_value",label:"Potongan",methods:{create:!1,update:!1,list:{transform:"money"},detail:{transform:"money"}}},{id:"description",label:"Deskripsi",methods:{create:{type:"textarea"},update:{type:"textarea"}}}]}}},watch:{mainKey:{immediate:!1,deep:!1,handler:function(a){this.$refs["sub-module"].$children[1].getData()}}},methods:{openModal:function(a,t){var e=this;return p()(n.a.mark(function l(){var s;return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e.getDetail("get","custom/tunjangan-transport-details/show",{id:t.rowData.id});case 2:l.t0=l.sent,s={detail:l.t0},e.modalData=d()({},s,t.rowData),e.$nextTick().then(function(t){e.$bvModal.show(a)});case 6:case"end":return l.stop()}},l,e)}))()},getDetail:function(a,t,e){var l=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.$_api[a](t,e).then(function(a){return s&&a.data[s]||a.data}).catch(function(a){l.$_alert.error(a)})},copyValue:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.$set(this.modalData,"detail",s()({},this.modalData.detail,this.modalData.sync.data_recaps))},submitData:function(){var a=this,t=this.config.getter+"/calculate";this.$_api.post(t,this.modalData.detail).then(function(t){a.$_alert.success(null,"Detail Rincian berhasil diperbarui"),a.$set(a.modalData,"detail",t.data),a.mainKey++}).catch(function(t){a.$_alert.error(t)})}}},c={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("tas-base-crud",{ref:"sub-module",attrs:{config:a.config,"hide-update":"","hide-filter":"","hide-detail":""},scopedSlots:a._u([{key:"list-table-action",fn:function(t){return[e("a",{staticClass:"btn btn-info btn-sm",on:{click:function(e){return a.openModal("modal-rincian-transport",t)}}},[a._v("Lihat Detail")])]}},{key:"list-header",fn:function(){return[a.modalData.detail?e("b-modal",{attrs:{"header-class":"pb-1",id:"modal-rincian-transport","hide-footer":"",size:"xl"},scopedSlots:a._u([{key:"modal-header",fn:function(){return[e("div",{staticClass:"d-flex justify-content-between flex-fill"},[e("div",{staticClass:"d-flex flex-column flex-fill"},[e("div",{staticClass:"text-center mb-5"},[e("h5",{staticClass:"mb-1 font-weight-bold"},[a._v("Detail "+a._s(a.config.title))]),a._v(" "),e("span",{staticClass:"font-weight-bolder"},[a._v("Periode "+a._s(a._f("parse")(a.modalData.detail.periode_month,"period")))])]),a._v(" "),e("table",{staticClass:"table no-border mb-0"},[e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Tenaga Kerja")]),a._v(" "),e("td",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.modalData.rel_employee_id))]),a._v(" "),e("td",{}),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Jabatan")]),a._v(" "),e("td",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.modalData.detail.rel_job_position_id))])]),a._v(" "),e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("MPP")]),a._v(" "),e("td",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a._f("parse")(a.modalData.detail.is_mpp,"ynBool")))]),a._v(" "),e("td",{}),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Status Ketenagakerjaan")]),a._v(" "),e("td",{staticClass:"pt-0 pr-0 nowrap-table"},[a._v(": "+a._s(a.modalData.detail.rel_status_employment_id))])])])])])]},proxy:!0}],null,!1,3986434827)},[a._v(" "),a.modalData.detail?e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-5"},[e("ul",{staticClass:"list-unstyled mb-0"},[e("li",{staticClass:"mb-5"},[e("s-input",{attrs:{item:{type:"number",validation:[],label:"Nilai Dasar",prefix:"Rp. ",groupClass:"mb-0",ic:"mr-4",api:"",attr:{precision:2}}},model:{value:a.modalData.detail.base_value,callback:function(t){a.$set(a.modalData.detail,"base_value",t)},expression:"modalData.detail.base_value"}})],1),a._v(" "),e("li",{staticClass:"mb-3"},[e("label",{staticClass:"checkbox checkbox-md"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.modalData.detail.is_use_presence_data,expression:"modalData.detail.is_use_presence_data"}],attrs:{type:"checkbox",name:"bpjs_perusahaan"},domProps:{checked:Array.isArray(a.modalData.detail.is_use_presence_data)?a._i(a.modalData.detail.is_use_presence_data,null)>-1:a.modalData.detail.is_use_presence_data},on:{change:function(t){var e=a.modalData.detail.is_use_presence_data,l=t.target,s=!!l.checked;if(Array.isArray(e)){var i=a._i(e,null);l.checked?i<0&&a.$set(a.modalData.detail,"is_use_presence_data",e.concat([null])):i>-1&&a.$set(a.modalData.detail,"is_use_presence_data",e.slice(0,i).concat(e.slice(i+1)))}else a.$set(a.modalData.detail,"is_use_presence_data",s)}}}),a._v(" "),e("span",{staticClass:"mr-3"}),a._v("Perhitungan Tunjangan menggunakan data Rekap Presensi")])])]),a._v(" "),e("hr"),a._v(" "),e("table",{staticClass:"table no-border mt-5"},[e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Tunjangan")]),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v(":")]),a._v(" "),e("th",{staticClass:"pt-0 pr-5"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp. ")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.tunjangan_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Potongan")]),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v(":")]),a._v(" "),e("th",{staticClass:"pt-0 pr-5"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp. ")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.potongan_value||0,"number")))])])])]),a._v(" "),e("tr",[e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v("Penerimaan")]),a._v(" "),e("td",{staticClass:"pt-0 pl-0 nowrap-table"},[a._v(":")]),a._v(" "),e("th",{staticClass:"pt-0 pr-5"},[e("div",{staticClass:"d-flex justify-content-between"},[e("span",{},[a._v("Rp. ")]),a._v(" "),e("span",{staticClass:"text-right font-weight-bold"},[a._v(a._s(a._f("parse")(a.modalData.detail.penerimaan_value||0,"number")))])])])])]),a._v(" "),e("div",{staticClass:"mt-5"},[e("button",{staticClass:"btn btn-primary btn-lg btn-block font-size-md",on:{click:function(t){return a.submitData("modal-rincian-bills")}}},[a._v("Perbarui & Simpan")])])]),a._v(" "),e("div",{staticClass:"col-md-7"},[e("div",{staticClass:"py-3 px-5 border-primary mt-2 bg-light-primary",staticStyle:{border:"2px solid","border-radius":"8px"}},[e("h5",[a._v("Data Rekap Presensi")]),a._v(" "),a.modalData.detail.data_employee_presence_recaps?e("table",{staticClass:"table no-border"},[e("tr",[e("td",{staticClass:"py-0 nowrap-table pl-0"},[a._v("Jumlah Hari Kerja")]),a._v(" "),e("td",{staticClass:"py-0 nowrap-table pl-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 "},[a._v(" "+a._s(a._f("parse")(a.modalData.detail.data_employee_presence_recaps.work_day_count||0,"number"))+" Hari")])]),a._v(" "),e("tr",[e("td",{staticClass:"py-0 nowrap-table pl-0"},[a._v("Tidak Masuk")]),a._v(" "),e("td",{staticClass:"py-0 nowrap-table pl-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 "},[a._v(a._s(a._f("parse")(a.modalData.detail.data_employee_presence_recaps.work_day_lost_count||0,"number"))+" Hari")])]),a._v(" "),e("tr",[e("td",{staticClass:"py-0 nowrap-table pl-0"},[a._v("Terlambat")]),a._v(" "),e("td",{staticClass:"py-0 nowrap-table pl-0"},[a._v(":")]),a._v(" "),e("td",{staticClass:"py-0 "},[a._v(a._s(a._f("parse")(a.modalData.detail.data_employee_presence_recaps.work_day_late_count||0,"number"))+" Hari, "+a._s(a._f("parse")(a.modalData.detail.data_employee_presence_recaps.work_day_minute_late_count||0,"number"))+" Menit")])])]):a._e(),a._v(" "),e("h5",[a._v("Apabila menggunakan Rekap Presensi :")]),a._v(" "),e("ul",{staticClass:"pl-5 font-size-sm"},[e("li",[a._v("Nilai Tunjangan didapat dari : "),e("code",[a._v("Nilai Dasar x (Jumlah Hari Kerja - Tidak Masuk)")])]),a._v(" "),e("li",[a._v("Nilai Potongan didapat dari :"),e("ul",{staticClass:"pl-5"},[e("li",[a._v("Jika Jumlah hari terlambat 5 Hari / 60 Menit : "),e("code",[a._v("Nilai Dasar x 50%")])]),a._v(" "),e("li",[a._v("Jika Jumlah hari terlambat lebih dari 5 Hari / lebih dari 60 Menit : "),e("code",[a._v("Nilai Dasar x 100%")])])])]),a._v(" "),e("li",[a._v("Nilai Penerimaan didapat dari : "),e("code",[a._v("Nilai Tunjangan - Nilai Potongan")])])])])])]):a._e()]):a._e()]},proxy:!0}])})},staticRenderFns:[]},u=e("VU/8")(_,c,!1,null,null,null);t.default=u.exports}});
//# sourceMappingURL=68.47c419b846efcc811599.js.map