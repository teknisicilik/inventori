webpackJsonp([12],{"75vw":function(t,e){},nTDY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("fZjL"),s=a.n(i),n=a("Xxa5"),l=a.n(n),r=a("exGp"),o=a.n(r),c=a("Dd8w"),d=a.n(c),v=a("Gu7T"),u=a.n(v),f=a("pFYg"),_=a.n(f),m=a("woOf"),p=a.n(m),g=a("PJh5"),h=a.n(g);h.a.locale("id");var b={name:"crud-monitoring",data:function(){return{config:{title:"Pengumpulan Data Input Kualitatif",permission:{create:"create-qualitatif-data-on-divisions",read:"view-qualitatif-data-on-divisions",update:"do-verification-request-qualitatif-data-on-divisions",delete:"delete-qualitatif-data-on-divisions"}},fullFilter:{},searchFilter:"",usedFilter:{search:"",page:1,limit:10},logPage:1,logData:{total:0,totalPage:1,data:[]},logTemp:[],activeTemplate:{},activeAttachment:{},isLoading:!1,dataList:{total:0,totalPage:1,data:[]},newItem:"",uploadPercentage:0,isUploading:!1,showServer:0,cutOff:{},miniDashboard:{},activeStatusFilter:null,maxUploadSize:60,errMessage:!1,selectedAgenda:{label:"RKAP Kualitatif",code:null},agendaList:[]}},computed:{isValidFilter:function(){return!(!this.usedFilter.periode_year||!this.usedFilter.division_id)}},watch:{searchFilter:{deep:!1,immediate:!1,handler:function(t){this.usedFilter=p()({},this.usedFilter,{search:t,page:1,limit:10})}},selectedAgenda:{deep:!0,immediate:!1,handler:function(t){var e="object"===(void 0===t?"undefined":_()(t))?t.code:t;this.usedFilter=p()({},this.usedFilter,{agenda_id:e,page:1,limit:10})}},activeStatusFilter:{deep:!1,immediate:!1,handler:function(t){this.usedFilter=p()({},this.usedFilter,{status_code_data_verification:t,page:1,limit:10})}},usedFilter:{deep:!0,immediate:!1,handler:function(t){this.getListData(t)}},logPage:{deep:!0,immediate:!1,handler:function(t){this.getLogTemplate(this.activeTemplate,t)}}},methods:{globalFilterChange:function(t){this.fullFilter=p()({},t),this.getAgenda(t,null,!0)},getAgenda:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=p()({},{division_id:i?t.division_id&&t.division_id.code?t.division_id.code:null:t.division_id,periode_year:i?t.year:t.periode_year,agenda_id:a||null});this.$_api.dataset("m-qualitatif-agendas",s).then(function(t){var i=t.data.map(function(t){return{label:t.name,code:t.id}});e.agendaList=[{label:"RKAP Kualitatif",code:null}].concat(u()(i)),e.selectedAgenda=a?e.agendaList.filter(function(t){return t.code===a})[0]:e.agendaList[0],e.usedFilter=p()({},s,{search:"",page:1,limit:10,id:e.$route.query.id||null}),e.activeTemplate=p()({},{}),e.activeAttachment=p()({},{}),e.getCutOff(e.usedFilter)})},removeMyAction:function(){var t=p()({},this.$route.query);delete t.id,this.$router.replace({query:t})},getCutOff:function(t){var e=this;this.$_api.get("custom/cut-off-qualitatif-schedules/closing-date",t).then(function(t){e.cutOff=t.data},function(t){e.$_alert.error(t)})},getMiniDashboard:function(t){var e=this;this.$_api.get("custom/qualitatif-data-on-divisions/mini-dashboard",t).then(function(t){e.miniDashboard=t.data},function(t){e.$_alert.error(t)})},getListData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isLoading=!0,this.$_api.get("custom/qualitatif-data-on-divisions/list",t).then(function(i){if(e.isLoading=!1,e.dataList=i,a){var s=i.data.filter(function(t){return t.id===e.activeTemplate.id});s.length?e.activeTemplate=p()(s[0]):e.activeTemplate=p()({})}else i.data.length?e.showTemplate(i.data[0]):e.activeTemplate=p()({});e.getMiniDashboard(t)},function(t){e.isLoading=!1,e.$_alert.error(t)})},showTemplate:function(t){this.activeTemplate=p()(t),this.activeAttachment.id!==t.id&&this.getLogTemplate(t,1)},showAtachment:function(t){this.activeAttachment.id===t.id?this.activeAttachment=p()({}):this.activeAttachment=p()(t),this.$bvModal.show("modal-custom-preview-doc")},getLogTemplate:function(t,e){var a=this,i=d()({template_qualitatif_on_division_id:t.id,periode_year:this.usedFilter.periode_year},{page:e,limit:5});this.$_api.get("qualitatif-data-on-division-log-verifications/list",i).then(function(t){a.logData=t,a.logTemp=t.data.slice(Math.max(t.data.length-2,0))})},handleFile:function(t){var e=this;if((t.target.files[0].size/1e6).toFixed(2)<this.maxUploadSize){this.isUploading=!0;var a=t.target.files[0];this.$_api.fileUpload(a,function(t){e.uploadPercentage=Math.round(100*t.loaded/t.total)}).then(function(a){e.isUploading=!1,e.addNewAttachment(a.data),t.target.value=null}).catch(function(t){e.isUploading=!1,e.$_alert.error(t)})}else this.errMessage=!0,t.target.value=null},addNewAttachment:function(t){var e=this;this.isLoading=!0;var a,i={template_qualitatif_on_division_id:this.activeTemplate.id,file_document:t};this.$_api.create("qualitatif-data-on-division-attachments",i).then((a=o()(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!1,t.next=3,e.getListData(e.usedFilter,!0);case 3:e.getMiniDashboard(e.usedFilter);case 4:case"end":return t.stop()}},t,e)})),function(t){return a.apply(this,arguments)}),function(t){e.isLoading=!1,e.$_alert.error(t)})},deleteAttachment:function(t){var e=this;this.$_alert.confirm("Hapus Data Input ?","Data yang sudah dihapus tidak dapat dikembalikan, lanjutkan ?").then(function(a){var i;a.isConfirmed&&e.$_api.delete("qualitatif-data-on-division-attachments",{data:t}).then((i=o()(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!1,t.next=3,e.getListData(e.usedFilter,!0);case 3:e.getMiniDashboard(e.usedFilter);case 4:case"end":return t.stop()}},t,e)})),function(t){return i.apply(this,arguments)}),function(t){e.isLoading=!1,e.$_alert.error(t)})})},allowManipulate:function(t){return(!s()(this.cutOff).length||!this.cutOff.is_pass)&&(!!this.$_sys.isAllowed(this.config.permission.update)&&("draft"===t.status_code_data_verification||("revision_request"===t.status_code_data_verification||null===t.status_code_data_verification)))},verifyItems:function(t){var e=this;this.$_alert.confirm("Pengajuan Verifikasi Data","Anda tidak dapat mengupload dan menghapus file setelah diajukan, Lanjutkan?").then(function(a){var i;a.isConfirmed&&e.$_api.post("custom/qualitatif-data-on-divisions/do-verification-request",t).then((i=o()(l.a.mark(function a(i){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.isLoading=!1,e.getListData(e.usedFilter,!0),e.getMiniDashboard(e.usedFilter),e.getLogTemplate(t,1);case 4:case"end":return a.stop()}},a,e)})),function(t){return i.apply(this,arguments)}),function(t){e.isLoading=!1,e.$_alert.error(t)})})},isAllowedVerify:function(t){var e=JSON.parse(localStorage.getItem("profile"));return-1===e.role_id||e.role_id===t.privillege_role_id},generateText:function(t){var e="Telah diverifikasi oleh, "+t.rel_verified_by;return e+="\nSebagai "+t.rel_privillege_role_id,e+="\npada "+h()(t.verified_by).format("LLLL"),e+="\n\nvia "+window.location.origin},approveItem:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments[1];this.$swal({title:e?"Approve Data Upload ?":"Permintaan Revisi",html:'<span class="text-dark-75">Keterangan&nbsp;:</span>',input:"textarea",icon:e?"success":"warning",iconColor:e?"#3AAC12":"#d42b21",padding:".75rem",width:"37rem",focusConfirm:!1,showCancelButton:!1,confirmButtonText:e?"Approve Data Upload":"Kirim Permintaan Revisi",customClass:{confirmButton:e?"btn btn-success":"btn btn-light-danger",actions:"mt-0 mb-5",htmlContainer:"text-left overflow-hidden"},didOpen:function(){t.$swal.disableButtons(),t.$swal.getInput().addEventListener("keyup",function(e){e.target.value?t.$swal.enableButtons():t.$swal.disableButtons()})}}).then(function(i){i.isConfirmed&&t.sendAprroval(e,a,t.$swal.getInput().value)})},sendAprroval:function(t,e){var a,i=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=d()({},e,{status_code:t?"approved":"revision_request",description:s});this.$_api.post("custom/qualitatif-data-on-divisions/do-verify",n).then((a=o()(l.a.mark(function t(e){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.isLoading=!1,t.next=3,i.getListData(i.usedFilter,!0);case 3:i.getLogTemplate(i.activeTemplate,1),i.getMiniDashboard(i.usedFilter);case 5:case"end":return t.stop()}},t,i)})),function(t){return a.apply(this,arguments)}),function(t){i.isLoading=!1,i.$_alert.error(t)})}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"card card-custom mb-3"},[a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title mb-0 font-weight-bolder mb-3"},[t._v(t._s(t.config.title))]),t._v(" "),a("global-filter",{attrs:{query:"",inline:""},on:{change:function(e){return t.globalFilterChange(e)}}}),t._v(" "),a("hr",{staticStyle:{"border-style":"dashed"}}),t._v(" "),a("div",{staticClass:"d-flex align-items-center flex-fill"},[a("span",{staticClass:"font-weight-bold font-size-lg pr-3",staticStyle:{"min-width":"110px"},attrs:{for:""}},[t._v("Pilih Agenda :")]),t._v(" "),a("v-select",{staticClass:"vs-style custom flex-fill",attrs:{clearable:!1,appendToBody:!0,options:t.agendaList,placeholder:"Pilih salah satu Agenda"},model:{value:t.selectedAgenda,callback:function(e){t.selectedAgenda=e},expression:"selectedAgenda"}},[t._t("no-options",function(){return[t._v(t._s(t.$t("error.no_data")))]})],2)],1),t._v(" "),Object.keys(t.miniDashboard).length?a("div",{staticClass:"d-flex align-items-center flex-wrap mt-3"},[a("span",{staticClass:"font-weight-bold font-size-lg pr-3",staticStyle:{"min-width":"110px"},attrs:{for:""}},[t._v("Filter Status :")]),t._v(" "),a("div",{staticClass:"mini-recapt",class:t.activeStatusFilter?"":"active",on:{click:function(e){t.activeStatusFilter=null}}},[a("span",{staticClass:"font-weight-bold"},[t._v("Semua Template")]),t._v(" "),a("span",{staticClass:"font-weight-bolder"},[t._v(t._s(t.miniDashboard.total_template_count||0))])]),t._v(" "),a("div",{staticClass:"mini-recapt",class:"draft"===t.activeStatusFilter?"active":"",on:{click:function(e){t.activeStatusFilter="draft"}}},[a("span",{staticClass:"font-weight-bold"},[t._v("Draft")]),t._v(" "),a("span",{staticClass:"font-weight-bolder"},[t._v(t._s(t.miniDashboard.total_template_draft_count||0))])]),t._v(" "),a("div",{staticClass:"mini-recapt",class:"verification_request"===t.activeStatusFilter?"active":"",on:{click:function(e){t.activeStatusFilter="verification_request"}}},[a("span",{staticClass:"font-weight-bold"},[t._v("Menunggu Verifikasi")]),t._v(" "),a("span",{staticClass:"font-weight-bolder"},[t._v(t._s(t.miniDashboard.total_template_verification_request_count||0))])]),t._v(" "),a("div",{staticClass:"mini-recapt",class:"revision_request"===t.activeStatusFilter?"active":"",on:{click:function(e){t.activeStatusFilter="revision_request"}}},[a("span",{staticClass:"font-weight-bold"},[t._v("Revisi")]),t._v(" "),a("span",{staticClass:"font-weight-bolder"},[t._v(t._s(t.miniDashboard.total_template_revision_request_count||0))])]),t._v(" "),a("div",{staticClass:"mini-recapt",class:"approved"===t.activeStatusFilter?"active":"",on:{click:function(e){t.activeStatusFilter="approved"}}},[a("span",{staticClass:"font-weight-bold"},[t._v("Diterima")]),t._v(" "),a("span",{staticClass:"font-weight-bolder"},[t._v(t._s(t.miniDashboard.total_template_approved_count||0))])])]):t._e()],1)]),t._v(" "),Object.keys(t.cutOff).length?a("div",{staticClass:"alert alert-danger mb-3 p-5 d-flex align-items-center justify-content-between",attrs:{role:"alert"}},[a("h6",{staticClass:"alert-heading mb-0 font-weight-normal"},[t._v("Batas waktu pengumpulan")]),t._v(" "),a("h6",{staticClass:"alert-heading mb-0"},[t._v(t._s(t._f("parse")(t.cutOff.closing_date,"longDateTimeUTC"))+" ("+t._s(t.cutOff.countdown)+")")])]):t._e(),t._v(" "),t.isValidFilter?a("div",{staticClass:"position-relative"},[a("b-overlay",{attrs:{show:t.isLoading,"no-wrap":"",rounded:"sm"}}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[Object.keys(t.cutOff).length&&t.cutOff.is_pass?a("div",{staticClass:"alert alert-custom alert-outline-danger bg-white py-2",attrs:{role:"alert"}},[t._m(0),t._v(" "),a("div",{staticClass:"alert-text"},[a("span",{staticClass:"d-block font-weight-bolder"},[t._v("Pengumpulan Dikunci")]),t._v(" "),a("span",{staticClass:"font-weight"},[t._v(t._s(t.cutOff.is_pass_text||"Telah melewati batas waktu pengumpulan"))])])]):t._e(),t._v(" "),a("div",{staticClass:"card card-custom mb-3"},[a("div",{staticClass:"card-header border-0 pt-7",staticStyle:{"min-height":"0 !important"}},[a("div",{staticClass:"input-icon flex-fill"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:t.searchFilter,expression:"searchFilter",modifiers:{lazy:!0,trim:!0}}],staticClass:"form-control seach-form",attrs:{autocomplete:"off",name:"search",type:"text",placeholder:"Cari item Template RKAP Kualitatif"},domProps:{value:t.searchFilter},on:{change:function(e){t.searchFilter=e.target.value.trim()},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t._m(1)])]),t._v(" "),a("div",{staticClass:"card-body pt-0"},[t.$route.query.id?a("div",{staticClass:"alert alert-danger mb-0 mt-2 p-2 d-flex align-items-center",attrs:{role:"alert"}},[a("i",{staticClass:"ri-shield-flash-line text-white pr-2 ri-2x"}),t._v(" "),a("div",[t._m(2),t._v(" "),a("span",{staticClass:"d-block text-white font-weight-bolder pointer pr-2 text-underline",on:{click:function(e){return t.removeMyAction()}}},[t._v("Tampilkan semua")])])]):t._e(),t._v(" "),t.dataList.data.length?[a("table",{staticClass:"table mt-3 mb-0"},[t._l(t.dataList.data,function(e,i){return[a("tr",{key:i+"-template-rkap"},[a("td",{staticClass:"nowrap-table pl-0"},[a("span",{staticClass:"svg-icon",class:t.activeTemplate.id===e.id?"svg-icon-primary":"svg-icon-light"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[a("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("polygon",{attrs:{points:"0 0 24 0 24 24 0 24"}}),t._v(" "),a("path",{attrs:{d:"M12.2928955,6.70710318 C11.9023712,6.31657888 11.9023712,5.68341391 12.2928955,5.29288961 C12.6834198,4.90236532 13.3165848,4.90236532 13.7071091,5.29288961 L19.7071091,11.2928896 C20.085688,11.6714686 20.0989336,12.281055 19.7371564,12.675721 L14.2371564,18.675721 C13.863964,19.08284 13.2313966,19.1103429 12.8242777,18.7371505 C12.4171587,18.3639581 12.3896557,17.7313908 12.7628481,17.3242718 L17.6158645,12.0300721 L12.2928955,6.70710318 Z",fill:"#000000","fill-rule":"nonzero"}}),t._v(" "),a("path",{attrs:{d:"M3.70710678,15.7071068 C3.31658249,16.0976311 2.68341751,16.0976311 2.29289322,15.7071068 C1.90236893,15.3165825 1.90236893,14.6834175 2.29289322,14.2928932 L8.29289322,8.29289322 C8.67147216,7.91431428 9.28105859,7.90106866 9.67572463,8.26284586 L15.6757246,13.7628459 C16.0828436,14.1360383 16.1103465,14.7686056 15.7371541,15.1757246 C15.3639617,15.5828436 14.7313944,15.6103465 14.3242754,15.2371541 L9.03007575,10.3841378 L3.70710678,15.7071068 Z",fill:"#000000","fill-rule":"nonzero",opacity:"0.3",transform:"translate(9.000003, 11.999999) rotate(-270.000000) translate(-9.000003, -11.999999)"}})])])])]),t._v(" "),a("td",{staticClass:"pl-0 pointer",attrs:{colspan:"2"},on:{click:function(a){return t.showTemplate(e)}}},[a("div",{staticClass:"text-line-2 text-hover-primary mb-1 font-size-lg font-weight-bolder",class:t.activeTemplate.id===e.id?"text-primary":"text-dark-75"},[t._v(" "+t._s(e.template_name)+" ")]),t._v(" "),a("span",{staticClass:"d-flex justify-content-between text-dark-75 font-weight-bold font-size-xs"},[a("span",{staticClass:"text-upercase font-weight-bolder pr-2"},[t._v(t._s(t._f("parse")(e.status_code_data_verification||"Belum diisi","verify")))]),t._v(" "),a("span",[t._v(t._s(e.number_of_template_attachment||0)+" Panduan, "+t._s(e.number_of_input_attachment)+" Dikumpulkan")])])])])]})],2),t._v(" "),a("hr",{staticClass:"mt-0"}),t._v(" "),a("div",{staticClass:"d-flex align-items-center justify-content-between"},[a("span",{staticClass:"text-muted"},[t._v("Total "+t._s(t.dataList.total)+" Item")]),t._v(" "),a("b-pagination",{staticClass:"mb-0",attrs:{"total-rows":t.dataList.totalPage,"per-page":t.usedFilter.limit,"prev-text":"Sebelumnya","next-text":"Selanjutnya","first-number":"","last-number":""},model:{value:t.usedFilter.page,callback:function(e){t.$set(t.usedFilter,"page",e)},expression:"usedFilter.page"}})],1)]:[a("div",{staticClass:"d-flex flex-column flex-fill justify-content-center"},[a("img",{staticClass:"img-fluid px-5 py-3",attrs:{src:"/static/img/default/no-data_form.svg",alt:""}}),t._v(" "),a("div",{staticClass:"alert alert-custom alert-light-primary mt-3",attrs:{role:"alert"}},[a("div",{staticClass:"alert-icon"},[a("span",{staticClass:"svg-icon svg-icon-primary svg-icon-xl"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}},[a("g",{attrs:{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[a("polygon",{attrs:{points:"0 0 24 0 24 24 0 24"}}),t._v(" "),a("path",{attrs:{d:"M5.85714286,2 L13.7364114,2 C14.0910962,2 14.4343066,2.12568431 14.7051108,2.35473959 L19.4686994,6.3839416 C19.8056532,6.66894833 20,7.08787823 20,7.52920201 L20,20.0833333 C20,21.8738751 19.9795521,22 18.1428571,22 L5.85714286,22 C4.02044787,22 4,21.8738751 4,20.0833333 L4,3.91666667 C4,2.12612489 4.02044787,2 5.85714286,2 Z",fill:"#000000","fill-rule":"nonzero",opacity:"0.3"}}),t._v(" "),a("path",{attrs:{d:"M11,14 L9,14 C8.44771525,14 8,13.5522847 8,13 C8,12.4477153 8.44771525,12 9,12 L11,12 L11,10 C11,9.44771525 11.4477153,9 12,9 C12.5522847,9 13,9.44771525 13,10 L13,12 L15,12 C15.5522847,12 16,12.4477153 16,13 C16,13.5522847 15.5522847,14 15,14 L13,14 L13,16 C13,16.5522847 12.5522847,17 12,17 C11.4477153,17 11,16.5522847 11,16 L11,14 Z",fill:"#000000"}})])])])]),t._v(" "),a("div",{staticClass:"alert-text"},[t._v("Belum ada Template Pengumpulan RKAP "+t._s(t.fullFilter.division_id?t.fullFilter.division_id.label:"")+" Tahun "+t._s(t._f("parse")(t.fullFilter.year||"","year")))])])])]],2)])]),t._v(" "),a("div",{staticClass:"col-lg-8"},[Object.keys(t.activeTemplate).length?[a("div",{staticClass:"card card-custom gutter-b"},[a("div",{staticClass:"card-header border-0 pt-5"},[a("h3",{staticClass:"card-title mt-0 align-items-start flex-column"},[a("span",{staticClass:"card-label font-weight-bolder text-dark"},[t._v(t._s(t.activeTemplate.template_name))]),t._v(" "),a("span",{staticClass:"text-muted mt-1 font-weight-bold font-size-sm"},[t._v("Total "+t._s(t.activeTemplate.number_of_template_attachment)+" Panduan, "+t._s(t.activeTemplate.number_of_input_attachment)+" Dikumpulkan")])]),t._v(" "),a("div",{staticClass:"toolbar"},[a("span",{staticClass:"label label-lg label-danger label-pill label-inline mr-2"},[t._v(t._s(t.activeTemplate.revision_data_input_count||0)+"x Revisi")])])]),t._v(" "),a("div",{staticClass:"card-body pt-2 pb-3"},[a("span",{staticClass:"d-block font-weight-bolder mb-1"},[t._v("Panduan : ")]),t._v(" "),a("div",{staticClass:"d-flex flex-wrap"},t._l(t.activeTemplate.child_data_template_qualitatif_on_division_attachments,function(e,i){return a("div",{key:i+"-child",staticClass:"border pr-3 pl-2 py-3 mr-3 mb-3",staticStyle:{"border-radius":"8px"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"pr-2",staticStyle:{"objec-fit":"cover",width:"50px"},attrs:{src:"/static/img/file/"+e.file_document.ext+".svg"}}),t._v(" "),a("div",{staticClass:"d-flex flex-column justify-content-between flex-fill font-size-sm font-weight-bold"},[a("div",{staticClass:"d-block max-w-180px min-w-180px text-truncate"},[t._v(t._s(e.file_document.filename))]),t._v(" "),a("div",{staticClass:"d-flex align-items-end mt-1"},[a("span",{staticClass:"pointer pr-3 text-info",on:{click:function(a){return t.showAtachment(e)}}},[t._v("Preview")]),t._v(" "),a("a",{staticClass:"pointer pr-3 text-info",on:{click:function(a){return t.$_sys.forceDownload(e.file_document)}}},[t._v("Download ")])])])])])}),0),t._v(" "),a("div",{staticClass:"separator separator-dashed my-5"}),t._v(" "),a("span",{staticClass:"d-block font-weight-bolder mb-1"},[t._v("Data Input: ")]),t._v(" "),a("div",{staticClass:"d-flex flex-wrap"},t._l(t.activeTemplate.child_data_qualitatif_data_on_division_attachments,function(e,i){return a("div",{key:i+"-child-attachment",staticClass:"border pr-3 pl-2 py-3 mr-3 mb-3",staticStyle:{"border-radius":"8px"}},[a("div",{staticClass:"d-flex"},[a("img",{staticClass:"pr-2",staticStyle:{"objec-fit":"cover",width:"50px"},attrs:{src:"/static/img/file/"+e.file_document.ext+".svg"}}),t._v(" "),a("div",{staticClass:"d-flex flex-column justify-content-between flex-fill font-size-sm font-weight-bold"},[a("div",{staticClass:"d-block max-w-180px min-w-180px text-truncate"},[t._v(t._s(e.file_document.filename))]),t._v(" "),a("div",{staticClass:"d-flex align-items-end mt-1"},[a("span",{staticClass:"pointer pr-3 text-info",on:{click:function(a){return t.showAtachment(e)}}},[t._v("Preview")]),t._v(" "),a("a",{staticClass:"pointer pr-3 text-info",on:{click:function(a){return t.$_sys.forceDownload(e.file_document)}}},[t._v("Download ")]),t._v(" "),t.allowManipulate(t.activeTemplate)?a("div",{staticClass:"d-flex flex-fill justify-content-end align-items-end"},[a("i",{staticClass:"ri-delete-bin-2-line text-danger pointer",staticStyle:{"line-height":"1.2"},on:{click:function(a){return t.deleteAttachment(e)}}})]):t._e()])])])])}),0),t._v(" "),t.allowManipulate(t.activeTemplate)?a("div",{staticClass:"d-flex align-items-center"},[a("label",[a("a",{staticClass:"btn btn-sm btn-primary"},[t._v("Upload File baru (max "+t._s(t.maxUploadSize)+"Mb)")]),t._v(" "),a("input",{ref:"inputFileKualitatif",attrs:{id:"inputFileKualitatif",type:"file",hidden:""},on:{change:function(e){return t.handleFile(e)}}})]),t._v(" "),a("div",{staticClass:"flex-fill ml-3"},[t.isUploading?a("b-progress",{staticClass:"mb-3",attrs:{max:100,animated:""}},[a("b-progress-bar",{attrs:{value:t.uploadPercentage,label:t.uploadPercentage+"%"}})],1):t._e(),t._v(" "),t.errMessage?a("span",{staticClass:"text-danger font-weight-bold"},[t._v("Upload dibatalkan! ukuran file melebihi 60Mb")]):t._e()],1)]):t._e(),t._v(" "),a("hr",{staticClass:"mb-0"}),t._v(" "),a("div",{staticClass:"d-flex pt-2 align-items-center justify-content-between"},[a("div",[a("span",{staticClass:"font-weight-bold"},[t._v("Status: "),a("span",{staticClass:"text-uppercase font-weight-bolder"},[t._v(t._s(t._f("parse")(t.activeTemplate.status_code_data_verification||"draft","verify")))])]),t._v(" "),"revision_request"===t.activeTemplate.status_code_data_verification?a("p",{staticClass:"mb-0"},[t._v("Note Revisi: "),a("br"),t._v(" "+t._s(t.activeTemplate.child_data_qualitatif_data_on_division_verifications.filter(function(t){return"revision_request"===t.status_code})[0].description)+" ")]):t._e()]),t._v(" "),t.allowManipulate(t.activeTemplate)?a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.verifyItems(t.activeTemplate)}}},[a("i",{staticClass:"ri-shield-check-line pr-2"}),t._v("Ajukan Verifikasi")]):t._e()])])]),t._v(" "),t.allowManipulate(t.activeTemplate)?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-7"},[a("div",{staticClass:"card card-custom"},[a("div",{staticClass:"card-body  py-4 px-5"},[t.activeTemplate.child_data_qualitatif_data_on_division_verifications.length?a("div",{staticClass:"d-flex justify-content-around align-items-center"},t._l(t.activeTemplate.child_data_qualitatif_data_on_division_verifications,function(e,i){return a("div",{key:i+"-signature",staticClass:"signature text-center"},[a("span",{staticClass:"d-block"},[t._v("Diverifikasi oleh,")]),t._v(" "),a("div",{staticClass:"d-flex align-items-center justify-content-center text-center my-5 min-h-80px"},[e.verified_by?a("vue-qr",{attrs:{text:t.generateText(e),size:80,margin:5}}):[t.activeTemplate.verification_order<e.verification_order?[a("p",{staticClass:"text-muted text-xs mb-0"},[t._v("Menunggu Verifikasi dari "),a("br"),t._v(" "),a("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.activeTemplate.child_data_qualitatif_data_on_division_verifications.filter(function(e){return e.verification_order===t.activeTemplate.verification_order})[0].rel_privillege_role_id))])])]:[t.isAllowedVerify(e)?a("button",{staticClass:"btn btn-sm btn-success",on:{click:function(a){return t.approveItem(!0,e)}}},[t._v("Approve")]):t._e(),t._v(" "),t.isAllowedVerify(e)?a("button",{staticClass:"btn btn-sm btn-outline-danger ml-2",on:{click:function(a){return t.approveItem(!1,e)}}},[t._v("Revisi")]):a("img",{staticClass:"img-unverified",attrs:{src:"/static/img/default/unverified-150X150.png",alt:"unverified"}})]]],2),t._v(" "),a("div",{staticClass:"text-center"},[e.verified_by?a("span",{staticClass:"d-block font-weight-bold"},[t._v(t._s(e.rel_verified_by))]):a("span",{staticClass:"d-block font-weight-bold font-italic"},[t._v("Belum Diverifikasi")]),t._v(" "),a("hr",{staticClass:"text-dark-75 my-1"}),t._v(" "),a("span",{staticClass:"d-block"},[t._v(t._s(e.rel_privillege_role_id))])])])}),0):[t._m(3)]],2)])]),t._v(" "),a("div",{staticClass:"col-lg-5"},[a("div",{staticClass:"card card-custom"},[a("div",{staticClass:"card-body py-4 px-5"},[a("span",{staticClass:"d-block font-weight-bolder mb-4"},[t._v("Log Verifikasi")]),t._v(" "),t.logData.data.length?[a("div",{staticClass:"timeline timeline-2 ml-3"},[a("div",{staticClass:"timeline-bar"}),t._v(" "),t._l(t.logTemp,function(e,i){return a("div",{key:i+"-log-verif",staticClass:"timeline-item align-items-start"},[a("span",{staticClass:"timeline-badge bg-success mt-1"}),t._v(" "),a("div",{staticClass:"timeline-content font-size-xs"},[a("span",{staticClass:"d-block font-weight-bolder text-uppercase"},[t._v(t._s(t._f("parse")(e.status_code,"verify")))]),t._v(" "),a("p",{staticClass:"mb-0"},[t._v(t._s(e.description))]),t._v(" "),a("span",{staticClass:"text-muted"},[t._v("Oleh "+t._s(e.rel_user_id)+", pada "+t._s(t._f("parse")(e.created_at,"longDateTime")))])])])}),t._v(" "),a("div",{key:"log-verif-lengkap",staticClass:"timeline-item align-items-start"},[a("span",{staticClass:"timeline-badge bg-success mt-1"}),t._v(" "),a("div",{directives:[{name:"b-modal",rawName:"v-b-modal.modalLogVerify",modifiers:{modalLogVerify:!0}}],staticClass:"timeline-content font-size-xs pointer"},[a("span",{staticClass:"d-block font-weight-bolder text-uppercase text-info"},[t._v("Lihat Semua")])])])],2)]:[t._m(4)]],2)]),t._v(" "),a("b-modal",{attrs:{id:"modalLogVerify",centered:"","hide-footer":"","hide-header":"",size:"md"},on:{hide:function(e){t.logPage=1}}},[a("span",{staticClass:"d-block font-weight-bolder mb-4  font-size-lg"},[t._v("Log Verifikasi")]),t._v(" "),t.logData.data.length?[a("div",{staticClass:"timeline timeline-2 ml-4"},[a("div",{staticClass:"timeline-bar",staticStyle:{left:"5px"}}),t._v(" "),t._l(t.logData.data,function(e,i){return a("div",{key:i+"-log-verif",staticClass:"timeline-item align-items-start"},[a("span",{staticClass:"timeline-badge bg-success",staticStyle:{width:"11px",height:"11px","margin-top":"5px"}}),t._v(" "),a("div",{staticClass:"timeline-content"},[a("span",{staticClass:"d-block font-weight-bolder text-uppercase"},[t._v(t._s(t._f("parse")(e.status_code,"verify")))]),t._v(" "),a("p",{staticClass:"mb-0"},[t._v(t._s(e.description))]),t._v(" "),a("span",{staticClass:"text-muted"},[t._v("Oleh "+t._s(e.rel_user_id)+", pada "+t._s(t._f("parse")(e.created_at,"longDateTime")))])])])})],2),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"d-flex align-items-center justify-content-left"},[a("b-pagination",{staticClass:"mb-0",attrs:{"total-rows":t.logData.totalPage,"per-page":2,"prev-text":"Sebelumnya","next-text":"Selanjutnya","first-number":"","last-number":""},model:{value:t.logPage,callback:function(e){t.logPage=e},expression:"logPage"}})],1)]:[a("div",{staticClass:"d-flex flex-column flex-fill justify-content-center"},[a("img",{staticClass:"img-fluid px-25 py-3",attrs:{src:"/static/img/default/no-data_form.svg",alt:""}})])]],2)],1)])]:t._e()],2)])],1):a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("img",{attrs:{src:"/static/img/filler/checklist.svg",alt:"",srcset:""}}),t._v(" "),a("div",{staticClass:"alert alert-custom alert-light-primary fade show mt-5",attrs:{role:"alert"}},[t._m(5),t._v(" "),a("div",{staticClass:"alert-text"},[a("b",[t._v("Pilih Nama Divisi")]),t._v(" terlebih dahulu untuk menampilkan data "+t._s(t.config.title))])])]),t._v(" "),a("b-modal",{attrs:{id:"modal-custom-preview-doc","header-class":"px-4 py-3","hide-footer":"",title:"Preview Dokumen",size:"full"}},[Object.keys(t.activeAttachment).length?[t.showServer<=1?[a("iframe",{key:t.showServer+"-iframe",staticClass:"animated",staticStyle:{width:"100%",height:"700px"},attrs:{src:t.$_sys.iframeLink(t.activeAttachment.file_document.url,t.showServer),frameborder:"0"}})]:[a("embed",{staticClass:"animated",attrs:{src:t.activeAttachment.file_document.url,width:"100%",height:"700px"}})]]:t._e(),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("div",[a("button",{staticClass:"btn",class:0===t.showServer?"btn-primary":"btn-outline-primary",on:{click:function(e){t.showServer=0}}},[t._v("Server 1")]),t._v(" "),a("button",{staticClass:"btn btn-primary",class:1===t.showServer?"btn-primary":"btn-outline-primary",on:{click:function(e){t.showServer=1}}},[t._v("Server 2")]),t._v(" "),a("button",{staticClass:"btn btn-primary",class:2===t.showServer?"btn-primary":"btn-outline-primary",on:{click:function(e){t.showServer=2}}},[t._v("Server 3")])]),t._v(" "),a("div",{staticClass:"flex-fill pl-4"},[a("div",{staticClass:"alert alert-custom alert-light-info fade show mb-0 px-3 py-0",attrs:{role:"alert"}},[a("div",{staticClass:"alert-icon"},[a("i",{staticClass:"flaticon-warning"})]),t._v(" "),a("div",{staticClass:"alert-text"},[t._v(" Gunakan server lain atau "),a("span",{staticClass:"font-weight-bolder"},[t._v("Download")]),t._v(" apabila dokumen tidak dapat di buka ")])])])])],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert-icon"},[e("i",{staticClass:"flaticon-warning mt-1"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("i",{staticClass:"ri-search-line text-primary"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("Hanya menampilkan template dari "),e("b",[this._v("My Action")]),this._v("!")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("img",{staticClass:"img-fluid px-22 py-3 max-w-350px",attrs:{src:"/static/img/default/no-data_form.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-column flex-fill justify-content-center"},[e("img",{staticClass:"img-fluid px-25 py-3",attrs:{src:"/static/img/default/no-data_form.svg",alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert-icon"},[e("i",{staticClass:"flaticon-warning"})])}]};var x=a("VU/8")(b,C,!1,function(t){a("75vw")},null,null);e.default=x.exports}});
//# sourceMappingURL=12.486f9b8f2f03421f59f8.js.map